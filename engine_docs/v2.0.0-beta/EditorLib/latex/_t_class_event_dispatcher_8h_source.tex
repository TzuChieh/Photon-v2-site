\doxysection{TClass\+Event\+Dispatcher.\+h}
\hypertarget{_t_class_event_dispatcher_8h_source}{}\label{_t_class_event_dispatcher_8h_source}\index{Source/EditorCore/TClassEventDispatcher.h@{Source/EditorCore/TClassEventDispatcher.h}}
\mbox{\hyperlink{_t_class_event_dispatcher_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_t_event_dispatcher_8h}{EditorCore/TEventDispatcher.h}}"{}}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <utility>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceph_1_1editor}{ph::editor}}}
\DoxyCodeLine{00009\ \{}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ EventType,\ \textcolor{keyword}{typename}\ ClassType>}
\DoxyCodeLine{00012\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher}{TClassEventDispatcher}}\ final}
\DoxyCodeLine{00013\ \{}
\DoxyCodeLine{00014\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keyword}{static\_assert}(std::is\_class\_v<ClassType>);}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classph_1_1editor_1_1_t_event_dispatcher}{DispatcherType}}\ =\ \mbox{\hyperlink{classph_1_1editor_1_1_t_event_dispatcher}{TEventDispatcher<EventType>}};}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_af0fe6bb0c4b2cb80068011eabd449b11}{Listener}}\ =\ \mbox{\hyperlink{classph_1_1editor_1_1_t_event_dispatcher_a51fa7114b6d70184bea98884d0aa5afe}{DispatcherType::Listener}};}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_af0fe6bb0c4b2cb80068011eabd449b11}{Listener}}*\ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_addcf72b0af2223ca36e09106e4e609cb}{addListener}}(\mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_af0fe6bb0c4b2cb80068011eabd449b11}{Listener}}\ listener);}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{template}<auto\ MethodPtr,\ \textcolor{keyword}{typename}\ Class>}
\DoxyCodeLine{00027\ \ \ \ \ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_af0fe6bb0c4b2cb80068011eabd449b11}{Listener}}*\ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_aef1c5e1ad89495ec432a5f2d89661535}{addListener}}(Class*\ instancePtr);}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_a8687d4f491d26c24d90b85115f5879b0}{removeListener}}(\mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_af0fe6bb0c4b2cb80068011eabd449b11}{Listener}}*\ listener);}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_a0ef23f1eeb37e93f0709698caa5fe684}{removeListenerImmediately}}(\mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_af0fe6bb0c4b2cb80068011eabd449b11}{Listener}}*\ listener);}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{friend}\ ClassType;}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ DispatchFunc>}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordtype}{void}\ dispatch(\textcolor{keyword}{const}\ EventType\&\ e,\ DispatchFunc\ dispatchFunc);}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordtype}{void}\ dispatch(\textcolor{keyword}{const}\ EventType\&\ e);}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \mbox{\hyperlink{classph_1_1editor_1_1_t_event_dispatcher}{DispatcherType}}\ m\_dispatcher;}
\DoxyCodeLine{00050\ \};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ EventType,\ \textcolor{keyword}{typename}\ ClassType>}
\DoxyCodeLine{00053\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_addcf72b0af2223ca36e09106e4e609cb}{TClassEventDispatcher<EventType,\ ClassType>::addListener}}(}
\DoxyCodeLine{00054\ \ \ \ \ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_af0fe6bb0c4b2cb80068011eabd449b11}{Listener}}\ listener)}
\DoxyCodeLine{00055\ -\/>\ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_af0fe6bb0c4b2cb80068011eabd449b11}{Listener}}*}
\DoxyCodeLine{00056\ \{}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_dispatcher.\mbox{\hyperlink{classph_1_1editor_1_1_t_event_dispatcher_ae45102a96ca458b68a8c1273e871e8a3}{addListener}}(std::move(listener));}
\DoxyCodeLine{00058\ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ EventType,\ \textcolor{keyword}{typename}\ ClassType>}
\DoxyCodeLine{00061\ \textcolor{keyword}{template}<auto\ MethodPtr,\ \textcolor{keyword}{typename}\ Class>}
\DoxyCodeLine{00062\ \textcolor{keyword}{inline}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_addcf72b0af2223ca36e09106e4e609cb}{TClassEventDispatcher<EventType,\ ClassType>::addListener}}(}
\DoxyCodeLine{00063\ \ \ \ \ Class*\ \textcolor{keyword}{const}\ instancePtr)}
\DoxyCodeLine{00064\ -\/>\ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_af0fe6bb0c4b2cb80068011eabd449b11}{Listener}}*}
\DoxyCodeLine{00065\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_dispatcher.addListener(\mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_af0fe6bb0c4b2cb80068011eabd449b11}{Listener}}\{\}.template\ set<MethodPtr>(instancePtr));}
\DoxyCodeLine{00067\ \}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ EventType,\ \textcolor{keyword}{typename}\ ClassType>}
\DoxyCodeLine{00070\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_a8687d4f491d26c24d90b85115f5879b0}{TClassEventDispatcher<EventType,\ ClassType>::removeListener}}(}
\DoxyCodeLine{00071\ \ \ \ \ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_af0fe6bb0c4b2cb80068011eabd449b11}{Listener}}*\ \textcolor{keyword}{const}\ listener)}
\DoxyCodeLine{00072\ \{}
\DoxyCodeLine{00073\ \ \ \ \ m\_dispatcher.removeListener(listener);}
\DoxyCodeLine{00074\ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ EventType,\ \textcolor{keyword}{typename}\ ClassType>}
\DoxyCodeLine{00077\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_a0ef23f1eeb37e93f0709698caa5fe684}{TClassEventDispatcher<EventType,\ ClassType>::removeListenerImmediately}}(}
\DoxyCodeLine{00078\ \ \ \ \ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher_af0fe6bb0c4b2cb80068011eabd449b11}{Listener}}*\ \textcolor{keyword}{const}\ listener)}
\DoxyCodeLine{00079\ \{}
\DoxyCodeLine{00080\ \ \ \ \ m\_dispatcher.removeListenerImmediately(listener);}
\DoxyCodeLine{00081\ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ EventType,\ \textcolor{keyword}{typename}\ ClassType>}
\DoxyCodeLine{00084\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ DispatchFunc>}
\DoxyCodeLine{00085\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1_t_class_event_dispatcher}{TClassEventDispatcher<EventType,\ ClassType>::dispatch}}(}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keyword}{const}\ EventType\&\ e,\ DispatchFunc\ dispatchFunc)}
\DoxyCodeLine{00087\ \{}
\DoxyCodeLine{00088\ \ \ \ \ m\_dispatcher.dispatch(e,\ std::move(dispatchFunc));}
\DoxyCodeLine{00089\ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ EventType,\ \textcolor{keyword}{typename}\ ClassType>}
\DoxyCodeLine{00092\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ TClassEventDispatcher<EventType,\ ClassType>::dispatch(}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keyword}{const}\ EventType\&\ e)}
\DoxyCodeLine{00094\ \{}
\DoxyCodeLine{00095\ \ \ \ \ m\_dispatcher.dispatch(e);}
\DoxyCodeLine{00096\ \}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \}\textcolor{comment}{//\ end\ namespace\ ph}}

\end{DoxyCode}
