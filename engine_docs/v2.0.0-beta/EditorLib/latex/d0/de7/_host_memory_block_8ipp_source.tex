\doxysection{Host\+Memory\+Block.\+ipp}
\hypertarget{_host_memory_block_8ipp_source}{}\label{_host_memory_block_8ipp_source}\index{Source/RenderCore/Memory/HostMemoryBlock.ipp@{Source/RenderCore/Memory/HostMemoryBlock.ipp}}
\mbox{\hyperlink{_host_memory_block_8ipp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_host_memory_block_8h}{RenderCore/Memory/HostMemoryBlock.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ghi__exceptions_8h}{RenderCore/ghi\_exceptions.h}}"{}}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <Common/os.h>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <Common/math\_basics.h>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <numeric>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <new>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <utility>}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceph_1_1editor_1_1ghi}{ph::editor::ghi}}}
\DoxyCodeLine{00014\ \{}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_host_memory_block_a37bf96257bbc2a4fd8ac04306cdbcd80}{HostMemoryBlock::HostMemoryBlock}}()}
\DoxyCodeLine{00017\ \ \ \ \ :\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_graphics_memory_block}{GraphicsMemoryBlock}}()}
\DoxyCodeLine{00018\ \ \ \ \ ,\ m\_memoryBlock(nullptr)}
\DoxyCodeLine{00019\ \{\}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_host_memory_block_a37bf96257bbc2a4fd8ac04306cdbcd80}{HostMemoryBlock::HostMemoryBlock}}(std::size\_t\ blockSizeHintInBytes)}
\DoxyCodeLine{00022\ \ \ \ \ :\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_host_memory_block}{HostMemoryBlock}}(blockSizeHintInBytes,\ os::get\_L1\_cache\_line\_size\_in\_bytes())}
\DoxyCodeLine{00023\ \{\}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_host_memory_block_a37bf96257bbc2a4fd8ac04306cdbcd80}{HostMemoryBlock::HostMemoryBlock}}(std::size\_t\ blockSizeHintInBytes,\ std::size\_t\ alignmentInBytes)}
\DoxyCodeLine{00026\ \{}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ alignmentSize\ =\ std::lcm(\textcolor{keyword}{alignof}(std::max\_align\_t),\ alignmentInBytes);}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ blockSize\ =\ math::next\_multiple(blockSizeHintInBytes,\ alignmentSize);}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ m\_memoryBlock\ =\ make\_aligned\_memory<std::byte>(blockSize,\ alignmentSize);}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keywordflow}{if}(!m\_memoryBlock)}
\DoxyCodeLine{00032\ \ \ \ \ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_out_of_host_memory}{OutOfHostMemory}}\{\};}
\DoxyCodeLine{00034\ \ \ \ \ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_graphics_memory_block_a0f13515956724b22a1f68fedbe2add15}{setBlockSource}}(m\_memoryBlock.get(),\ blockSize);}
\DoxyCodeLine{00037\ \}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_host_memory_block_a37bf96257bbc2a4fd8ac04306cdbcd80}{HostMemoryBlock::HostMemoryBlock}}(\mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_host_memory_block}{HostMemoryBlock}}\&\&\ other)\ noexcept}
\DoxyCodeLine{00040\ \ \ \ \ :\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_host_memory_block}{HostMemoryBlock}}()}
\DoxyCodeLine{00041\ \{}
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_a1bfbbec6fdf9e575f0d3c7d3fef52c00}{swap}}(*\textcolor{keyword}{this},\ other);}
\DoxyCodeLine{00043\ \}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_host_memory_block}{HostMemoryBlock}}\&\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_host_memory_block_ac4bf5812c663c0e96b28f941380986ba}{HostMemoryBlock::operator\ =\ }}(\mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_host_memory_block}{HostMemoryBlock}}\&\&\ rhs)\ \textcolor{keyword}{noexcept}}
\DoxyCodeLine{00046\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_a1bfbbec6fdf9e575f0d3c7d3fef52c00}{swap}}(*\textcolor{keyword}{this},\ rhs);}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00050\ \}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_a1bfbbec6fdf9e575f0d3c7d3fef52c00}{swap}}(\mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_host_memory_block}{HostMemoryBlock}}\&\ first,\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_host_memory_block}{HostMemoryBlock}}\&\ second)\ \textcolor{keyword}{noexcept}}
\DoxyCodeLine{00053\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keyword}{using\ }std::swap;}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_a1bfbbec6fdf9e575f0d3c7d3fef52c00}{swap}}(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_graphics_memory_block}{GraphicsMemoryBlock}}\&\textcolor{keyword}{>}(first),\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_graphics_memory_block}{GraphicsMemoryBlock}}\&\textcolor{keyword}{>}(second));}
\DoxyCodeLine{00057\ \ \ \ \ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_a1bfbbec6fdf9e575f0d3c7d3fef52c00}{swap}}(first.m\_memoryBlock,\ second.m\_memoryBlock);}
\DoxyCodeLine{00058\ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \}\textcolor{comment}{//\ end\ namespace\ ph::editor::ghi}}

\end{DoxyCode}
