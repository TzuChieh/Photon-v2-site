\doxysection{GHI.\+h}
\hypertarget{_g_h_i_8h_source}{}\label{_g_h_i_8h_source}\index{Source/RenderCore/GHI.h@{Source/RenderCore/GHI.h}}
\mbox{\hyperlink{_g_h_i_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ghi__fwd_8h}{RenderCore/ghi\_fwd.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ghi__enums_8h}{RenderCore/ghi\_enums.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ore_2_shader_8h}{RenderCore/Shader.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_shader_program_8h}{RenderCore/ShaderProgram.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_vertex_storage_8h}{RenderCore/VertexStorage.h}}"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_index_storage_8h}{RenderCore/IndexStorage.h}}"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_mesh_8h}{RenderCore/Mesh.h}}"{}}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <Utility/INoCopyAndMove.h>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <Common/logging.h>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <Common/assertion.h>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <Common/primitive\_type.h>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <Math/math\_fwd.h>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <Utility/TSpan.h>}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <cstddef>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <source\_location>}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceph_1_1editor_1_1ghi}{ph::editor::ghi}}}
\DoxyCodeLine{00025\ \{}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_aec6f5dbc749c5f4f4de1fc67853bebb5}{PH\_DECLARE\_LOG\_GROUP}}(\mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i}{GHI}});}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_mesh}{Mesh}};}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i}{GHI}}\ :\ \textcolor{keyword}{private}\ INoCopyAndMove}
\DoxyCodeLine{00035\ \{}
\DoxyCodeLine{00036\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keyword}{static}\ std::string\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a9218734ede3b4f54454376ff1f456a9a}{toString}}(\mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_adc6bae0b76aa0c0f81d75aaa6fc1b6b5}{EGraphicsAPI}}\ apiType);}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_ac6092603f8c266b9dc026d307dfdb345}{GHI}}(\mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_adc6bae0b76aa0c0f81d75aaa6fc1b6b5}{EGraphicsAPI}}\ apiType);}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a968d637c05cdf920c7419ad85024a680}{\string~GHI}}();}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a6ece1699e5a14d4b204f05c75c2cea68}{load}}()\ =\ 0;}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_aa38ef7593db7f8bc8e026b36a6289405}{unload}}()\ =\ 0;}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_aff220c3d018b4e93ea22b3314a58914c}{setViewport}}(uint32\ xPx,\ uint32\ yPx,\ uint32\ widthPx,\ uint32\ heightPx)\ =\ 0;}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a9eab9c86cbb7987d3fec597ebfcc0eba}{clearBuffer}}(\mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_a3afcd30d72696198855210893487ca85}{EClearTarget}}\ target)\ =\ 0;}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a06f4445028b4b6b96e78e855a62f5395}{setClearColor}}(\textcolor{keyword}{const}\ math::Vector4F\&\ color)\ =\ 0;}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_abf1cada9f6904cdb448b4922a26592d5}{draw}}(\mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_mesh}{Mesh}}\&\ mesh,\ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_aa2e9b9fcc71580b4c6eccf6bf1ecfbac}{EMeshDrawMode}}\ drawMode)\ =\ 0;}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a880307895bbca3d57b005e9516e5c008}{swapBuffers}}()\ =\ 0;}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_af4a70909fc34d6453a40bc693c2dad69}{tryUploadPixelData}}(}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classph_1_1editor_1_1_t_weak_handle}{TextureHandle}}\ handle,}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ TSpanView<std::byte>\ pixelData,}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_a116921aaab13387cc590d47a7847183e}{EPixelFormat}}\ pixelFormat,}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_ae5cfd1454aab3b059904702f4055543f}{EPixelComponent}}\ pixelComponent)\ =\ 0;}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a82786ed97a7df3548df00e0c6d011088}{tryUploadPixelDataTo2DRegion}}(}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classph_1_1editor_1_1_t_weak_handle}{TextureHandle}}\ handle,}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ math::Vector2UI\&\ regionOriginPx,}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ math::Vector2UI\&\ regionSizePx,}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ TSpanView<std::byte>\ pixelData,}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_a116921aaab13387cc590d47a7847183e}{EPixelFormat}}\ pixelFormat,}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_ae5cfd1454aab3b059904702f4055543f}{EPixelComponent}}\ pixelComponent)\ =\ 0;}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_a14fedae8e30e736b4a42acbe2c04b0f1}{TextureNativeHandle}}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a3cef7c7c45e8151d96a37b1090dd54f6}{tryGetTextureNativeHandle}}(\mbox{\hyperlink{classph_1_1editor_1_1_t_weak_handle}{TextureHandle}}\ handle)\ =\ 0;}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a140d6998a8a8479c8cfe742cea65053c}{attachTextureToFramebuffer}}(}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ uint32\ attachmentIdx,}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classph_1_1editor_1_1_t_weak_handle}{TextureHandle}}\ textureHandle,}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classph_1_1editor_1_1_t_weak_handle}{FramebufferHandle}}\ framebufferHandle)\ =\ 0;}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keyword}{virtual}\ std::shared\_ptr<Shader>\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a4349e4f5319d6951478116eca001e020}{createShader}}(}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ std::string\ name,\ }
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_a86c5740f6683935deda796a289d4d8d7}{EShadingStage}}\ shadingStage,}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ std::string\ shaderSource)\ =\ 0;}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keyword}{virtual}\ std::shared\_ptr<ShaderProgram>\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_ae671c098aa129e21e5c6f33cf3971500}{createShaderProgram}}(}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ std::string\ name,}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_shader_set_info}{ShaderSetInfo}}\&\ shaders)\ =\ 0;}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keyword}{virtual}\ std::shared\_ptr<VertexStorage>\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_ae36f77fbceeb1e80262b57f319f959e3}{createVertexStorage}}(}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_vertex_group_format_info}{VertexGroupFormatInfo}}\&\ format,}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ std::size\_t\ numVertices,}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_a8bfb1ca755f64c1e2c2ca18c0c665ab3}{EStorageUsage}}\ usage)\ =\ 0;}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keyword}{virtual}\ std::shared\_ptr<IndexStorage>\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a00a47beb6e50b85e67940c63c6a09a38}{createIndexStorage}}(}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_a28f1d636ebfec6f03e7f6f7dd86b0392}{EStorageElement}}\ indexType,}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ std::size\_t\ numIndices,}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_a8bfb1ca755f64c1e2c2ca18c0c665ab3}{EStorageUsage}}\ usage)\ =\ 0;}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keyword}{virtual}\ std::shared\_ptr<Mesh>\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a7c7f91ff9f508c40976f43f493dcd0a2}{createMesh}}(}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_mesh_vertex_layout_info}{MeshVertexLayoutInfo}}\&\ layout,}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ TSpanView<std::shared\_ptr<VertexStorage>>\ vertexStorages,}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::shared\_ptr<IndexStorage>\&\ indexStorage)\ =\ 0;}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_device_capability_info}{DeviceCapabilityInfo}}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a3fd8cc53ead1356fc99f797e27cdaae1}{getDeviceCapabilities}}();}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keyword}{template}<EGraphicsAPI\ API\_TYPE,\ \textcolor{keyword}{typename}\ CommandCallingFunctor>}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a0b3ff471db021899c2b3f7b94721f1f6}{rawCommand}}(}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ CommandCallingFunctor\ functor,}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ std::source\_location\ \ srcLocation\ =\ std::source\_location::current());}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ beginRawCommand()\ =\ 0;}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ endRawCommand()\ =\ 0;}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \ \ \mbox{\hyperlink{namespaceph_1_1editor_1_1ghi_adc6bae0b76aa0c0f81d75aaa6fc1b6b5}{EGraphicsAPI}}\ m\_apiType;}
\DoxyCodeLine{00137\ \};}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \textcolor{keyword}{template}<EGraphicsAPI\ API\_TYPE,\ \textcolor{keyword}{typename}\ CommandCallingFunctor>}
\DoxyCodeLine{00140\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a0b3ff471db021899c2b3f7b94721f1f6}{GHI::rawCommand}}(}
\DoxyCodeLine{00141\ \ \ \ \ CommandCallingFunctor\ \ \ \ \ \ functor,}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keyword}{const}\ std::source\_location\ srcLocation)}
\DoxyCodeLine{00143\ \{}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keyword}{static\_assert}(std::is\_invocable\_v<CommandCallingFunctor>,}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}must\ be\ callable\ without\ any\ argument"{}});}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordflow}{if}(API\_TYPE\ !=\ m\_apiType)}
\DoxyCodeLine{00148\ \ \ \ \ \{}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ PH\_LOG(\mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i}{GHI}},\ Error,}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}cannot\ call\ raw\ command\ of\ type\ \{\}\ under\ current\ GHI\ type\ \{\},\ "{}}}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}skipping\ command\ at\ \{\}(\{\}:\{\})"{}},}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a9218734ede3b4f54454376ff1f456a9a}{toString}}(API\_TYPE),\ \mbox{\hyperlink{classph_1_1editor_1_1ghi_1_1_g_h_i_a9218734ede3b4f54454376ff1f456a9a}{toString}}(m\_apiType),\ srcLocation.file\_name(),\ srcLocation.line(),\ srcLocation.column());}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00155\ \ \ \ \ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ beginRawCommand();}
\DoxyCodeLine{00158\ \ \ \ \ functor();}
\DoxyCodeLine{00159\ \ \ \ \ endRawCommand();}
\DoxyCodeLine{00160\ \}}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \}\textcolor{comment}{//\ end\ namespace\ ph::editor::ghi}}

\end{DoxyCode}
