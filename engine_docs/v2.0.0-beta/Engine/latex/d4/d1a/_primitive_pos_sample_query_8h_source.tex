\doxysection{Primitive\+Pos\+Sample\+Query.\+h}
\hypertarget{_primitive_pos_sample_query_8h_source}{}\label{_primitive_pos_sample_query_8h_source}\index{Source/Core/Intersection/Query/PrimitivePosSampleQuery.h@{Source/Core/Intersection/Query/PrimitivePosSampleQuery.h}}
\mbox{\hyperlink{_primitive_pos_sample_query_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_t_vector3_8h}{Math/TVector3.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_ray_8h}{Core/Ray.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_core_2_quantity_2_time_8h}{Core/Quantity/Time.h}}"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <Common/assertion.h>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <Common/primitive\_type.h>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <optional>}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceph}{ph}}}
\DoxyCodeLine{00013\ \{}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classph_1_1_primitive_pos_sample_input}{PrimitivePosSampleInput}}\ final}
\DoxyCodeLine{00016\ \{}
\DoxyCodeLine{00017\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_input_a18e90a43bab24edfe90f305b0d985ac6}{set}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_time}{Time}}\&\ time,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{math::Vector3R}}\&\ observationPos);}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_input_a18e90a43bab24edfe90f305b0d985ac6}{set}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_time}{Time}}\&\ time);}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_time}{Time}}\&\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_input_a12a6b79543185375ba6e23ab4c0867b7}{getTime}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keyword}{const}\ std::optional<math::Vector3R>\&\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_input_a994dd6f13e557e918e4365be616066f2}{getObservationPos}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_input_a18e90a43bab24edfe90f305b0d985ac6}{set}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_time}{Time}}\&\ time,\ \textcolor{keyword}{const}\ std::optional<math::Vector3R>\&\ observationPos);}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \mbox{\hyperlink{classph_1_1_time}{Time}}\ m\_time;}
\DoxyCodeLine{00028\ \ \ \ \ std::optional<math::Vector3R>\ m\_observationPos;}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#if\ PH\_DEBUG}}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordtype}{bool}\ m\_hasSet\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00032\ \};}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classph_1_1_primitive_pos_sample_output}{PrimitivePosSampleOutput}}\ final}
\DoxyCodeLine{00035\ \{}
\DoxyCodeLine{00036\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output_a24be04bcef7c8bd42d4cce6c5e539a0d}{setPos}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{math::Vector3R}}\&\ pos);}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output_a7c7e2ed2c6d6ba7dffb8a83b2f51f3c1}{setPdfA}}(real\ pdfA);}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output_ad24aadc0360bc6789b3fcd426142ff72}{setObservationRay}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_ray}{Ray}}\&\ observationRay);}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output_ac3fa0b07ae0db13c537d2bb240b2de5c}{invalidate}}();}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{math::Vector3R}}\&\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output_ab3ef8309ee7d93b9d41eb9a99804e55d}{getPos}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ real\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output_aabf309275e64401a9c61c0ccea346fdb}{getPdfA}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_ray}{Ray}}\&\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output_a2223b2ae513f7bcd80d9e5811f6da8db}{getObservationRay}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{operator}\ bool\ ()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00064\ \ \ \ \ \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{math::Vector3R}}\ m\_pos\{0\};}
\DoxyCodeLine{00065\ \ \ \ \ real\ m\_pdfA\{0\};}
\DoxyCodeLine{00066\ \ \ \ \ \mbox{\hyperlink{classph_1_1_ray}{Ray}}\ m\_observationRay\{\};}
\DoxyCodeLine{00067\ \};}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classph_1_1_primitive_pos_sample_query}{PrimitivePosSampleQuery}}\ final}
\DoxyCodeLine{00070\ \{}
\DoxyCodeLine{00071\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classph_1_1_primitive_pos_sample_input}{Input}}\ \ =\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_input}{PrimitivePosSampleInput}};}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classph_1_1_primitive_pos_sample_output}{Output}}\ =\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output}{PrimitivePosSampleOutput}};}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_input}{Input}}\ \ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_query_a6b13e0f42706441037fd30d02a3556b3}{inputs}};}
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output}{Output}}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_query_aa928c0c2fe11ac0cf89473dcb38509da}{outputs}};}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_query_a768db17d3b7af75b1cdd5e0b54aa13e4}{PrimitivePosSampleQuery}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00079\ \};}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \textcolor{comment}{//\ In-\/header\ Implementations:}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_input_a18e90a43bab24edfe90f305b0d985ac6}{PrimitivePosSampleInput::set}}(}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_time}{Time}}\&\ time,\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{math::Vector3R}}\&\ observationPos)}
\DoxyCodeLine{00086\ \{}
\DoxyCodeLine{00087\ \ \ \ \ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_input_a18e90a43bab24edfe90f305b0d985ac6}{set}}(time,\ std::optional<math::Vector3R>(observationPos));}
\DoxyCodeLine{00088\ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_input_a18e90a43bab24edfe90f305b0d985ac6}{PrimitivePosSampleInput::set}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_time}{Time}}\&\ time)}
\DoxyCodeLine{00091\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_input_a18e90a43bab24edfe90f305b0d985ac6}{set}}(time,\ std::nullopt);}
\DoxyCodeLine{00093\ \}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_input_a18e90a43bab24edfe90f305b0d985ac6}{PrimitivePosSampleInput::set}}(}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_time}{Time}}\&\ time,\ }
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keyword}{const}\ std::optional<math::Vector3R>\&\ observationPos)}
\DoxyCodeLine{00098\ \{}
\DoxyCodeLine{00099\ \ \ \ \ m\_time\ =\ time;}
\DoxyCodeLine{00100\ \ \ \ \ m\_observationPos\ =\ observationPos;}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \textcolor{preprocessor}{\#if\ PH\_DEBUG}}
\DoxyCodeLine{00103\ \ \ \ \ m\_hasSet\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00104\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00105\ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_time}{Time}}\&\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_input_a12a6b79543185375ba6e23ab4c0867b7}{PrimitivePosSampleInput::getTime}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00108\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00109\ \ \ \ \ PH\_ASSERT(m\_hasSet);}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_time;}
\DoxyCodeLine{00111\ \}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ std::optional<math::Vector3R>\&\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_input_a994dd6f13e557e918e4365be616066f2}{PrimitivePosSampleInput::getObservationPos}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00114\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00115\ \ \ \ \ PH\_ASSERT(m\_hasSet);}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_observationPos;}
\DoxyCodeLine{00117\ \}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output_ad24aadc0360bc6789b3fcd426142ff72}{PrimitivePosSampleOutput::setObservationRay}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_ray}{Ray}}\&\ observationRay)}
\DoxyCodeLine{00120\ \{}
\DoxyCodeLine{00121\ \ \ \ \ m\_observationRay\ =\ observationRay;}
\DoxyCodeLine{00122\ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output_a24be04bcef7c8bd42d4cce6c5e539a0d}{PrimitivePosSampleOutput::setPos}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{math::Vector3R}}\&\ pos)}
\DoxyCodeLine{00125\ \{}
\DoxyCodeLine{00126\ \ \ \ \ m\_pos\ =\ pos;}
\DoxyCodeLine{00127\ \}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output_a7c7e2ed2c6d6ba7dffb8a83b2f51f3c1}{PrimitivePosSampleOutput::setPdfA}}(\textcolor{keyword}{const}\ real\ pdfA)}
\DoxyCodeLine{00130\ \{}
\DoxyCodeLine{00131\ \ \ \ \ m\_pdfA\ =\ pdfA;}
\DoxyCodeLine{00132\ \}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output_ac3fa0b07ae0db13c537d2bb240b2de5c}{PrimitivePosSampleOutput::invalidate}}()}
\DoxyCodeLine{00135\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{comment}{//\ Must\ cuase\ \`{}PrimitivePosSampleOutput::operator\ bool\ ()`\ method\ to\ evaluate\ to\ \`{}false`}}
\DoxyCodeLine{00137\ \ \ \ \ m\_pdfA\ =\ 0;}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ PH\_ASSERT(!(*\textcolor{keyword}{this}));}
\DoxyCodeLine{00140\ \}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_ray}{Ray}}\&\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output_a2223b2ae513f7bcd80d9e5811f6da8db}{PrimitivePosSampleOutput::getObservationRay}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00143\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00144\ \ \ \ \ PH\_ASSERT(*\textcolor{keyword}{this});}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_observationRay;}
\DoxyCodeLine{00146\ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{math::Vector3R}}\&\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output_ab3ef8309ee7d93b9d41eb9a99804e55d}{PrimitivePosSampleOutput::getPos}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00149\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00150\ \ \ \ \ PH\_ASSERT(*\textcolor{keyword}{this});}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_pos;}
\DoxyCodeLine{00152\ \}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \textcolor{keyword}{inline}\ real\ \mbox{\hyperlink{classph_1_1_primitive_pos_sample_output_aabf309275e64401a9c61c0ccea346fdb}{PrimitivePosSampleOutput::getPdfA}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00155\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00156\ \ \ \ \ PH\_ASSERT(*\textcolor{keyword}{this});}
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_pdfA;}
\DoxyCodeLine{00158\ \}}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \textcolor{keyword}{inline}\ PrimitivePosSampleOutput::operator\ bool\ ()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00161\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_pdfA\ >\ 0;}
\DoxyCodeLine{00163\ \}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \}\textcolor{comment}{//\ end\ namespace\ ph}}

\end{DoxyCode}
