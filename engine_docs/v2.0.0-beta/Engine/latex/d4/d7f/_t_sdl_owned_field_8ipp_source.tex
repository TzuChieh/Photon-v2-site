\doxysection{TSdl\+Owned\+Field.\+ipp}
\hypertarget{_t_sdl_owned_field_8ipp_source}{}\label{_t_sdl_owned_field_8ipp_source}\index{Source/SDL/Introspect/TSdlOwnedField.ipp@{Source/SDL/Introspect/TSdlOwnedField.ipp}}
\mbox{\hyperlink{_t_sdl_owned_field_8ipp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_t_sdl_owned_field_8h}{SDL/Introspect/TSdlOwnedField.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_sdl_input_context_8h}{SDL/Introspect/SdlInputContext.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_sdl_output_context_8h}{SDL/Introspect/SdlOutputContext.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sdl__exceptions_8h}{SDL/sdl\_exceptions.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sdl__helpers_8h}{SDL/sdl\_helpers.h}}"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_sdl_input_clause_8h}{SDL/SdlInputClause.h}}"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_sdl_output_clause_8h}{SDL/SdlOutputClause.h}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{traits_8h}{Utility/traits.h}}"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_t_sdl_any_instance_8h}{SDL/TSdlAnyInstance.h}}"{}}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <Common/assertion.h>}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <utility>}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceph}{ph}}}
\DoxyCodeLine{00018\ \{}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Owner>}
\DoxyCodeLine{00021\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classph_1_1_t_sdl_owned_field_aa65fa26eb4ea9bce115bd662d35d7835}{TSdlOwnedField<Owner>::TSdlOwnedField}}(}
\DoxyCodeLine{00022\ \ \ \ \ std::string\ typeName,\ }
\DoxyCodeLine{00023\ \ \ \ \ std::string\ valueName)}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \ \ \ \ :\ \mbox{\hyperlink{classph_1_1_sdl_field}{SdlField}}(}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacestd}{std}}::move(typeName),\ }
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacestd}{std}}::move(valueName))}
\DoxyCodeLine{00028\ \{\}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Owner>}
\DoxyCodeLine{00031\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classph_1_1_t_sdl_owned_field_aa65fa26eb4ea9bce115bd662d35d7835}{TSdlOwnedField<Owner>::TSdlOwnedField}}(}
\DoxyCodeLine{00032\ \ \ \ \ std::string\ typeName,\ }
\DoxyCodeLine{00033\ \ \ \ \ std::string\ valueName,\ }
\DoxyCodeLine{00034\ \ \ \ \ std::string\ typeSignature)}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ :\ \mbox{\hyperlink{classph_1_1_sdl_field}{SdlField}}(}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacestd}{std}}::move(typeName),\ }
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacestd}{std}}::move(valueName),}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacestd}{std}}::move(typeSignature))}
\DoxyCodeLine{00040\ \{\}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Owner>}
\DoxyCodeLine{00043\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classph_1_1_sdl_native_data}{SdlNativeData}}\ \mbox{\hyperlink{classph_1_1_t_sdl_owned_field_aa809f705521119c23cd360352a26ac4c}{TSdlOwnedField<Owner>::nativeData}}(\mbox{\hyperlink{classph_1_1_t_sdl_any_instance}{SdlNonConstInstance}}\ instance)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00044\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00046\ \ \ \ \ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ Owner*\ \textcolor{keyword}{const}\ owner\ =\ instance.\mbox{\hyperlink{classph_1_1_t_sdl_any_instance_a61433a680c88d952fff6fa7011670469}{get}}<Owner>();}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!owner)}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Cannot\ get\ native\ data}}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ownedNativeData(*owner);}
\DoxyCodeLine{00055\ \ \ \ \ \}}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ SdlException\&\ \textcolor{comment}{/*\ e\ */})}
\DoxyCodeLine{00057\ \ \ \ \ \{}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Cannot\ get\ native\ data}}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{00060\ \ \ \ \ \}}
\DoxyCodeLine{00061\ \}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Owner>}
\DoxyCodeLine{00064\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_t_sdl_owned_field_a4c5f9946c3856e3c8c24557d07e673ca}{TSdlOwnedField<Owner>::fromSdl}}(}
\DoxyCodeLine{00065\ \ \ \ \ Owner\&\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ owner,}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_sdl_input_clause}{SdlInputClause}}\&\ \ clause,}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_sdl_input_context}{SdlInputContext}}\&\ ctx)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00068\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00070\ \ \ \ \ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ loadFromSdl(owner,\ clause,\ ctx);}
\DoxyCodeLine{00072\ \ \ \ \ \}}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_sdl_exception}{SdlException}}\&\ e)}
\DoxyCodeLine{00074\ \ \ \ \ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(isFallbackEnabled())}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ ownedValueToDefault(owner);}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Always\ log\ for\ recovered\ failed\ loading\ attempt}}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ (as\ the\ user\ provided\ a\ SDL\ value\ string\ for\ the\ field,\ }}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ a\ successful\ parse\ was\ expected)}}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ PH\_LOG(\mbox{\hyperlink{classph_1_1_sdl_field}{SdlField}},\ Warning,\ \textcolor{stringliteral}{"{}load\ error\ from\ \{\}\ -\/>\ \{\};\ value\ defaults\ to\ \{\}"{}},}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceph_1_1sdl_a16ba8b83316ce0f172ca13981e342faf}{sdl::gen\_pretty\_name}}(ctx.\mbox{\hyperlink{classph_1_1_sdl_i_o_context_a5b9c08b5228d2e5e4718e08485cb83d5}{getSrcClass}}(),\ \textcolor{keyword}{this}),}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ e.whatStr(),}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ valueToString(owner));}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Let\ caller\ handle\ the\ error\ if\ fallback\ is\ disabled}}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classph_1_1_sdl_load_error}{SdlLoadError}}(}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}load\ error\ from\ "{}}\ +\ \mbox{\hyperlink{namespaceph_1_1sdl_a16ba8b83316ce0f172ca13981e342faf}{sdl::gen\_pretty\_name}}(ctx.\mbox{\hyperlink{classph_1_1_sdl_i_o_context_a5b9c08b5228d2e5e4718e08485cb83d5}{getSrcClass}}(),\ \textcolor{keyword}{this})\ +}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ -\/>\ "{}}\ +\ e.whatStr()\ +\ \textcolor{stringliteral}{"{};\ "{}}\ +}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}value\ left\ uninitialized"{}});}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00097\ \ \ \ \ \}}
\DoxyCodeLine{00098\ \}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Owner>}
\DoxyCodeLine{00101\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_t_sdl_owned_field_a00689959197a3049e417692979df58e0}{TSdlOwnedField<Owner>::toSdl}}(}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keyword}{const}\ Owner\&\ \ \ \ \ \ \ \ \ \ \ \ owner,}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{classph_1_1_sdl_output_clause}{SdlOutputClause}}\&\ \ \ \ \ \ \ \ out\_clause,}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_sdl_output_context}{SdlOutputContext}}\&\ ctx)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00105\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00107\ \ \ \ \ \{}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ saveToSdl(owner,\ out\_clause,\ ctx);}
\DoxyCodeLine{00109\ \ \ \ \ \}}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordflow}{catch}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_sdl_exception}{SdlException}}\&\ e)}
\DoxyCodeLine{00111\ \ \ \ \ \{}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Provide\ more\ information\ and\ let\ caller\ handle\ the\ error}}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classph_1_1_sdl_save_error}{SdlSaveError}}(}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}save\ error\ from\ "{}}\ +\ \mbox{\hyperlink{namespaceph_1_1sdl_a16ba8b83316ce0f172ca13981e342faf}{sdl::gen\_pretty\_name}}(ctx.\mbox{\hyperlink{classph_1_1_sdl_i_o_context_a5b9c08b5228d2e5e4718e08485cb83d5}{getSrcClass}}(),\ \textcolor{keyword}{this})\ +}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ -\/>\ "{}}\ +\ e.whatStr());}
\DoxyCodeLine{00117\ \ \ \ \ \}}
\DoxyCodeLine{00118\ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \}\textcolor{comment}{//\ end\ namespace\ ph}}

\end{DoxyCode}
