\doxysection{ph\+::TSPPMRadiance\+Evaluator\texorpdfstring{$<$}{<} Viewpoint, Photon \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classph_1_1_t_s_p_p_m_radiance_evaluator}{}\label{classph_1_1_t_s_p_p_m_radiance_evaluator}\index{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$@{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$}}


{\ttfamily \#include $<$TSPPMRadiance\+Evaluator.\+h$>$}

Inheritance diagram for ph\+::TSPPMRadiance\+Evaluator\texorpdfstring{$<$}{<} Viewpoint, Photon \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{d2/d8d/classph_1_1_t_s_p_p_m_radiance_evaluator}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classph_1_1_t_s_p_p_m_radiance_evaluator_af1af0a264a88247e83b7bfed3af379e4}{TSPPMRadiance\+Evaluator}} (\mbox{\hyperlink{namespaceph_ac5bb03de153dde37c41cddcbfd29596c}{TSpan}}$<$ Viewpoint $>$ viewpoints, const \mbox{\hyperlink{classph_1_1_t_photon_map}{TPhoton\+Map}}$<$ Photon $>$ \texorpdfstring{$\ast$}{*}photon\+Map, const \mbox{\hyperlink{classph_1_1_scene}{Scene}} \texorpdfstring{$\ast$}{*}scene, \mbox{\hyperlink{classph_1_1_t_sampling_film}{TSampling\+Film}}$<$ \mbox{\hyperlink{namespaceph_1_1math_a42275285cd99065c86ce22761ccaab91}{math\+::\+Spectrum}} $>$ \texorpdfstring{$\ast$}{*}film, const \mbox{\hyperlink{namespaceph_a8fd64ba111f389ee0f7211828989cb36}{Region}} \&statistics\+Region, const \mbox{\hyperlink{classph_1_1math_1_1_t_vector2}{math\+::\+TVector2}}$<$ int64 $>$ \&statistics\+Res, std\+::size\+\_\+t total\+Photon\+Paths, std\+::size\+\_\+t num\+View\+Radiance\+Samples)
\item 
bool \mbox{\hyperlink{classph_1_1_t_s_p_p_m_radiance_evaluator_a11eb0c4763692879d4666cc1d00eb936}{impl\+\_\+on\+Receiver\+Sample\+Start}} (const \mbox{\hyperlink{namespaceph_1_1math_a5dfce302e9808008ffbce4236fa1d4f0}{math\+::\+Vector2D}} \&raster\+Coord, const \mbox{\hyperlink{namespaceph_1_1math_a086e8792ff86381dcfe5ddd3d5915a23}{math\+::\+Vector2S}} \&sample\+Index, const \mbox{\hyperlink{namespaceph_1_1math_a42275285cd99065c86ce22761ccaab91}{math\+::\+Spectrum}} \&path\+Throughput)
\item 
auto \mbox{\hyperlink{classph_1_1_t_s_p_p_m_radiance_evaluator_a4bb8873afcfdb231798f12dbe3f87d94}{impl\+\_\+on\+Path\+Hit\+Surface}} (std\+::size\+\_\+t path\+Length, const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&surface\+Hit, const \mbox{\hyperlink{namespaceph_1_1math_a42275285cd99065c86ce22761ccaab91}{math\+::\+Spectrum}} \&path\+Throughput) -\/$>$ \mbox{\hyperlink{classph_1_1_view_path_tracing_policy}{View\+Path\+Tracing\+Policy}}
\item 
void \mbox{\hyperlink{classph_1_1_t_s_p_p_m_radiance_evaluator_a284568f74bda6b839f19667947bdd705}{impl\+\_\+on\+Receiver\+Sample\+End}} ()
\item 
void \mbox{\hyperlink{classph_1_1_t_s_p_p_m_radiance_evaluator_a825d9cbaee2751b45180c666566a6010}{impl\+\_\+on\+Sample\+Batch\+Finished}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classph_1_1_t_view_path_handler}{ph\+::\+TView\+Path\+Handler$<$ TSPPMRadiance\+Evaluator$<$ Viewpoint, Photon $>$ $>$}}}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classph_1_1_t_view_path_handler_af2c06b953abe65d4daa3c6ce75e43a94}{on\+Receiver\+Sample\+Start}} (const \mbox{\hyperlink{namespaceph_1_1math_a5dfce302e9808008ffbce4236fa1d4f0}{math\+::\+Vector2D}} \&raster\+Coord, const \mbox{\hyperlink{namespaceph_1_1math_a086e8792ff86381dcfe5ddd3d5915a23}{math\+::\+Vector2S}} \&sample\+Index, const \mbox{\hyperlink{namespaceph_1_1math_a42275285cd99065c86ce22761ccaab91}{math\+::\+Spectrum}} \&path\+Throughput)
\begin{DoxyCompactList}\small\item\em Called after a receiver sample is generated. \end{DoxyCompactList}\item 
auto \mbox{\hyperlink{classph_1_1_t_view_path_handler_a5ff72abf1224c6261d36203ba5da2afb}{on\+Path\+Hit\+Surface}} (std\+::size\+\_\+t path\+Length, const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&surface\+Hit, const \mbox{\hyperlink{namespaceph_1_1math_a42275285cd99065c86ce22761ccaab91}{math\+::\+Spectrum}} \&path\+Throughput) -\/$>$ \mbox{\hyperlink{classph_1_1_view_path_tracing_policy}{View\+Path\+Tracing\+Policy}}
\begin{DoxyCompactList}\small\item\em Called after the view path hits a surface, with corresponding hit information given. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classph_1_1_t_view_path_handler_a53c51b990f59efa546b0016b55a396a8}{on\+Receiver\+Sample\+End}} ()
\begin{DoxyCompactList}\small\item\em Called after a receiver sample has ended. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classph_1_1_t_view_path_handler_a15d46f6f742c2a61113000e29946179e}{on\+Sample\+Batch\+Finished}} ()
\begin{DoxyCompactList}\small\item\em Called after a batch of receiver samples has been consumed. \doxylink{classph_1_1_sample}{Sample} batch is as defined by the sample generator used. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{classph_1_1_t_view_path_handler}{ph\+::\+TView\+Path\+Handler$<$ TSPPMRadiance\+Evaluator$<$ Viewpoint, Photon $>$ $>$}}}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classph_1_1_t_view_path_handler_a94118006857b7b66375b5dfe93330c42}{View\+Path\+Handler\+Tag}} = void
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classph_1_1_t_view_path_handler}{ph\+::\+TView\+Path\+Handler$<$ TSPPMRadiance\+Evaluator$<$ Viewpoint, Photon $>$ $>$}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classph_1_1_t_view_path_handler_aa792b617bdf9303db422ef7b686d5f18}{PH\+\_\+\+DEFINE\+\_\+\+INLINE\+\_\+\+RULE\+\_\+\+OF\+\_\+5\+\_\+\+MEMBERS}} (\mbox{\hyperlink{classph_1_1_t_view_path_handler}{TView\+Path\+Handler}})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$CViewpoint Viewpoint, CPhoton Photon$>$\newline
class ph\+::\+TSPPMRadiance\+Evaluator$<$ Viewpoint, Photon $>$}
This radiance evaluator follows Hachisuka\textquotesingle{}s original paper on SPPM \cite{Hachisuka:2009:Stochastic} closely, and is intended to serve as a reference implementation for other more sophisticated techniques. Tricks and shortcuts are avoided if possible, so the evaluated radiance is more likely to be correct. Performance is not a major concern for this evaluator, so do not use this in situations where time is valuable. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classph_1_1_t_s_p_p_m_radiance_evaluator_af1af0a264a88247e83b7bfed3af379e4}\label{classph_1_1_t_s_p_p_m_radiance_evaluator_af1af0a264a88247e83b7bfed3af379e4} 
\index{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$@{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$}!TSPPMRadianceEvaluator@{TSPPMRadianceEvaluator}}
\index{TSPPMRadianceEvaluator@{TSPPMRadianceEvaluator}!ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$@{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$}}
\doxysubsubsection{\texorpdfstring{TSPPMRadianceEvaluator()}{TSPPMRadianceEvaluator()}}
{\footnotesize\ttfamily template$<$CViewpoint Viewpoint, CPhoton Photon$>$ \\
\mbox{\hyperlink{classph_1_1_t_s_p_p_m_radiance_evaluator}{ph\+::\+TSPPMRadiance\+Evaluator}}$<$ Viewpoint, Photon $>$\+::\+TSPPMRadiance\+Evaluator (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceph_ac5bb03de153dde37c41cddcbfd29596c}{TSpan}}$<$ Viewpoint $>$}]{viewpoints,  }\item[{const \mbox{\hyperlink{classph_1_1_t_photon_map}{TPhoton\+Map}}$<$ Photon $>$ \texorpdfstring{$\ast$}{*}}]{photon\+Map,  }\item[{const \mbox{\hyperlink{classph_1_1_scene}{Scene}} \texorpdfstring{$\ast$}{*}}]{scene,  }\item[{\mbox{\hyperlink{classph_1_1_t_sampling_film}{TSampling\+Film}}$<$ \mbox{\hyperlink{namespaceph_1_1math_a42275285cd99065c86ce22761ccaab91}{math\+::\+Spectrum}} $>$ \texorpdfstring{$\ast$}{*}}]{film,  }\item[{const \mbox{\hyperlink{namespaceph_a8fd64ba111f389ee0f7211828989cb36}{Region}} \&}]{statistics\+Region,  }\item[{const \mbox{\hyperlink{classph_1_1math_1_1_t_vector2}{math\+::\+TVector2}}$<$ int64 $>$ \&}]{statistics\+Res,  }\item[{std\+::size\+\_\+t}]{total\+Photon\+Paths,  }\item[{std\+::size\+\_\+t}]{num\+View\+Radiance\+Samples }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyParams}{Parameters}
{\em total\+Photon\+Paths} & Number of photon paths of all time (accumulated). This term is the $ N_e $ term in the original paper, not the same as {\ttfamily photon\+Map-\/\texorpdfstring{$>$}{>}num\+Paths}. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{classph_1_1_t_s_p_p_m_radiance_evaluator_a4bb8873afcfdb231798f12dbe3f87d94}\label{classph_1_1_t_s_p_p_m_radiance_evaluator_a4bb8873afcfdb231798f12dbe3f87d94} 
\index{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$@{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$}!impl\_onPathHitSurface@{impl\_onPathHitSurface}}
\index{impl\_onPathHitSurface@{impl\_onPathHitSurface}!ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$@{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$}}
\doxysubsubsection{\texorpdfstring{impl\_onPathHitSurface()}{impl\_onPathHitSurface()}}
{\footnotesize\ttfamily template$<$CViewpoint Viewpoint, CPhoton Photon$>$ \\
auto \mbox{\hyperlink{classph_1_1_t_s_p_p_m_radiance_evaluator}{ph\+::\+TSPPMRadiance\+Evaluator}}$<$ Viewpoint, Photon $>$\+::impl\+\_\+on\+Path\+Hit\+Surface (\begin{DoxyParamCaption}\item[{std\+::size\+\_\+t}]{path\+Length,  }\item[{const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&}]{surface\+Hit,  }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a42275285cd99065c86ce22761ccaab91}{math\+::\+Spectrum}} \&}]{path\+Throughput }\end{DoxyParamCaption}) -\/$>$ \mbox{\hyperlink{classph_1_1_view_path_tracing_policy}{View\+Path\+Tracing\+Policy}}\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classph_1_1_t_s_p_p_m_radiance_evaluator_a284568f74bda6b839f19667947bdd705}\label{classph_1_1_t_s_p_p_m_radiance_evaluator_a284568f74bda6b839f19667947bdd705} 
\index{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$@{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$}!impl\_onReceiverSampleEnd@{impl\_onReceiverSampleEnd}}
\index{impl\_onReceiverSampleEnd@{impl\_onReceiverSampleEnd}!ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$@{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$}}
\doxysubsubsection{\texorpdfstring{impl\_onReceiverSampleEnd()}{impl\_onReceiverSampleEnd()}}
{\footnotesize\ttfamily template$<$CViewpoint Viewpoint, CPhoton Photon$>$ \\
void \mbox{\hyperlink{classph_1_1_t_s_p_p_m_radiance_evaluator}{ph\+::\+TSPPMRadiance\+Evaluator}}$<$ Viewpoint, Photon $>$\+::impl\+\_\+on\+Receiver\+Sample\+End (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classph_1_1_t_s_p_p_m_radiance_evaluator_a11eb0c4763692879d4666cc1d00eb936}\label{classph_1_1_t_s_p_p_m_radiance_evaluator_a11eb0c4763692879d4666cc1d00eb936} 
\index{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$@{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$}!impl\_onReceiverSampleStart@{impl\_onReceiverSampleStart}}
\index{impl\_onReceiverSampleStart@{impl\_onReceiverSampleStart}!ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$@{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$}}
\doxysubsubsection{\texorpdfstring{impl\_onReceiverSampleStart()}{impl\_onReceiverSampleStart()}}
{\footnotesize\ttfamily template$<$CViewpoint Viewpoint, CPhoton Photon$>$ \\
bool \mbox{\hyperlink{classph_1_1_t_s_p_p_m_radiance_evaluator}{ph\+::\+TSPPMRadiance\+Evaluator}}$<$ Viewpoint, Photon $>$\+::impl\+\_\+on\+Receiver\+Sample\+Start (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespaceph_1_1math_a5dfce302e9808008ffbce4236fa1d4f0}{math\+::\+Vector2D}} \&}]{raster\+Coord,  }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a086e8792ff86381dcfe5ddd3d5915a23}{math\+::\+Vector2S}} \&}]{sample\+Index,  }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a42275285cd99065c86ce22761ccaab91}{math\+::\+Spectrum}} \&}]{path\+Throughput }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\Hypertarget{classph_1_1_t_s_p_p_m_radiance_evaluator_a825d9cbaee2751b45180c666566a6010}\label{classph_1_1_t_s_p_p_m_radiance_evaluator_a825d9cbaee2751b45180c666566a6010} 
\index{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$@{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$}!impl\_onSampleBatchFinished@{impl\_onSampleBatchFinished}}
\index{impl\_onSampleBatchFinished@{impl\_onSampleBatchFinished}!ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$@{ph::TSPPMRadianceEvaluator$<$ Viewpoint, Photon $>$}}
\doxysubsubsection{\texorpdfstring{impl\_onSampleBatchFinished()}{impl\_onSampleBatchFinished()}}
{\footnotesize\ttfamily template$<$CViewpoint Viewpoint, CPhoton Photon$>$ \\
void \mbox{\hyperlink{classph_1_1_t_s_p_p_m_radiance_evaluator}{ph\+::\+TSPPMRadiance\+Evaluator}}$<$ Viewpoint, Photon $>$\+::impl\+\_\+on\+Sample\+Batch\+Finished (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Source/\+Core/\+Renderer/\+PM/\mbox{\hyperlink{_t_s_p_p_m_radiance_evaluator_8h}{TSPPMRadiance\+Evaluator.\+h}}\end{DoxyCompactItemize}
