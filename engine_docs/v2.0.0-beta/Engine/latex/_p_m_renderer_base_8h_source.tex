\doxysection{PMRenderer\+Base.\+h}
\hypertarget{_p_m_renderer_base_8h_source}{}\label{_p_m_renderer_base_8h_source}\index{Source/Core/Renderer/PM/PMRendererBase.h@{Source/Core/Renderer/PM/PMRendererBase.h}}
\mbox{\hyperlink{_p_m_renderer_base_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_renderer_8h}{Core/Renderer/Renderer.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_hdr_rgb_film_8h}{Core/Filmic/HdrRgbFilm.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_sample_filter_8h}{Core/Filmic/SampleFilter.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_p_m_atomic_statistics_8h}{Core/Renderer/PM/PMAtomicStatistics.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_p_m_common_params_8h}{Core/Renderer/PM/PMCommonParams.h}}"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_t_synchronized_8h}{Utility/Concurrent/TSynchronized.h}}"{}}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <Common/logging.h>}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <atomic>}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceph}{ph}}}
\DoxyCodeLine{00016\ \{}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{keyword}{class\ }Receiver;}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \mbox{\hyperlink{namespaceph_a816bf626d54388ef6a32ceec5da38dcb}{PH\_DECLARE\_LOG\_GROUP}}(PMRenderer);}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classph_1_1_p_m_renderer_base}{PMRendererBase}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classph_1_1_renderer}{Renderer}}}
\DoxyCodeLine{00023\ \{}
\DoxyCodeLine{00024\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a8b015c806b8713273ba1e5c75579288f}{PMRendererBase}}(}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classph_1_1_p_m_common_params}{PMCommonParams}}\ commonParams,}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classph_1_1_viewport}{Viewport}}\ \ \ \ \ \ \ viewport,}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classph_1_1_sample_filter}{SampleFilter}}\ \ \ filter,}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ uint32\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classph_1_1_renderer_aee3d015bf17aa93acab1bb833a5e77f5}{numWorkers}});}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a7dde3a27b56e36524013e132a6f64a88}{doRender}}()\ \textcolor{keyword}{override}\ =\ 0;}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_acd65d5adb7540776476f1c37ae62da79}{retrieveFrame}}(std::size\_t\ layerIndex,\ \mbox{\hyperlink{classph_1_1_t_frame}{HdrRgbFrame}}\&\ out\_frame)\ \textcolor{keyword}{override}\ =\ 0;}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \mbox{\hyperlink{classph_1_1_render_stats}{RenderStats}}\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_acf49f7971a70e0dea9d4d37da7453d19}{asyncQueryRenderStats}}()\ \textcolor{keyword}{override}\ =\ 0;}
\DoxyCodeLine{00035\ \ \ \ \ \mbox{\hyperlink{classph_1_1_render_progress}{RenderProgress}}\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a88755057d524db3fd5a5fadb39238c40}{asyncQueryRenderProgress}}()\ \textcolor{keyword}{override}\ =\ 0;}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a997091436e8c756b17529c18ee300673}{asyncPeekFrame}}(}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ std::size\_t\ layerIndex,}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1math_1_1_t_a_a_b_b2_d}{Region}}\&\ region,}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classph_1_1_t_frame}{HdrRgbFrame}}\&\ out\_frame)\ \textcolor{keyword}{override}\ =\ 0;}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{classph_1_1_render_observation_info}{RenderObservationInfo}}\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a010fe894997881bb69fc84a2b7043d21}{getObservationInfo}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a65a8832095f9febcaaac1589e6062948}{doUpdate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_core_cooked_unit}{CoreCookedUnit}}\&\ cooked,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_visual_world}{VisualWorld}}\&\ world)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00050\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a951e00b9107119f6415d0a625f1cf5ed}{asyncPollUpdatedRegions}}(\mbox{\hyperlink{namespaceph_a5390437e1d7fd7d167c847677ea146e6}{TSpan<RenderRegionStatus>}}\ out\_regions)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_sample_filter}{SampleFilter}}\&\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_af600c58bbe37cff34302906a2a9dbdd0}{getFilter}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_p_m_common_params}{PMCommonParams}}\&\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_acb973bb3c97276569d889395d1bc17d8}{getCommonParams}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_scene}{Scene}}*\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_aabdb7e6e8fb6003e0de5996ff3e4622e}{getScene}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_receiver}{Receiver}}*\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a6c6fee711fafaf7e2210c836b989466d}{getReceiver}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_sample_generator}{SampleGenerator}}*\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a77029782d043f1569cd0b235c61b0303}{getSampleGenerator}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00057\ \ \ \ \ TSynchronized<HdrRgbFilm>\&\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a7fcbefa7b0ef03b9217a912c1e54e998}{getPrimaryFilm}}();}
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{classph_1_1_p_m_atomic_statistics}{PMAtomicStatistics}}\&\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a773ed8cc02107fc1bd61c25c4d287c09}{getStatistics}}();}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a234c12327545167df4b9600c12c777e8}{asyncDevelopPrimaryFilm}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1math_1_1_t_a_a_b_b2_d}{Region}}\&\ region,\ \mbox{\hyperlink{classph_1_1_t_frame}{HdrRgbFrame}}\&\ out\_frame);}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a9a3c08f2d4315d4717e013031267fc58}{asyncMergeToPrimaryFilm}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_hdr_rgb_film}{HdrRgbFilm}}\&\ srcFilm);}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a650d3a20d9872ecda95880883eb3df17}{asyncReplacePrimaryFilm}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_hdr_rgb_film}{HdrRgbFilm}}\&\ srcFilm);}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00064\ \ \ \ \ \mbox{\hyperlink{classph_1_1_sample_filter}{SampleFilter}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_filter;}
\DoxyCodeLine{00065\ \ \ \ \ \mbox{\hyperlink{classph_1_1_p_m_common_params}{PMCommonParams}}\ \ \ \ \ \ \ \ \ \ \ \ m\_commonParams;}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_scene}{Scene}}*\ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_scene;}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_receiver}{Receiver}}*\ \ \ \ \ \ \ \ \ \ \ m\_receiver;}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_sample_generator}{SampleGenerator}}*\ \ \ \ m\_sampleGenerator;}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ TSynchronized<HdrRgbFilm>\ m\_primaryFilm;}
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{classph_1_1_p_m_atomic_statistics}{PMAtomicStatistics}}\ \ \ \ \ \ \ \ m\_statistics;}
\DoxyCodeLine{00073\ \ \ \ \ std::atomic\_flag\ \ \ \ \ \ \ \ \ \ m\_isPrimaryFilmUpdated;}
\DoxyCodeLine{00074\ \};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_sample_filter}{SampleFilter}}\&\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_af600c58bbe37cff34302906a2a9dbdd0}{PMRendererBase::getFilter}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00077\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_filter;}
\DoxyCodeLine{00079\ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_p_m_common_params}{PMCommonParams}}\&\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_acb973bb3c97276569d889395d1bc17d8}{PMRendererBase::getCommonParams}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00082\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_commonParams;}
\DoxyCodeLine{00084\ \}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_scene}{Scene}}*\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_aabdb7e6e8fb6003e0de5996ff3e4622e}{PMRendererBase::getScene}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00087\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_scene;}
\DoxyCodeLine{00089\ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_receiver}{Receiver}}*\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a6c6fee711fafaf7e2210c836b989466d}{PMRendererBase::getReceiver}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00092\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_receiver;}
\DoxyCodeLine{00094\ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classph_1_1_sample_generator}{SampleGenerator}}*\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a77029782d043f1569cd0b235c61b0303}{PMRendererBase::getSampleGenerator}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00097\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_sampleGenerator;}
\DoxyCodeLine{00099\ \}}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \textcolor{keyword}{inline}\ TSynchronized<HdrRgbFilm>\&\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a7fcbefa7b0ef03b9217a912c1e54e998}{PMRendererBase::getPrimaryFilm}}()}
\DoxyCodeLine{00102\ \{}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_primaryFilm;}
\DoxyCodeLine{00104\ \}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classph_1_1_p_m_atomic_statistics}{PMAtomicStatistics}}\&\ \mbox{\hyperlink{classph_1_1_p_m_renderer_base_a773ed8cc02107fc1bd61c25c4d287c09}{PMRendererBase::getStatistics}}()}
\DoxyCodeLine{00107\ \{}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_statistics;}
\DoxyCodeLine{00109\ \}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \}\textcolor{comment}{//\ end\ namespace\ ph}}

\end{DoxyCode}
