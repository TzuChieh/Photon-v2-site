\doxysection{ph\+::Shape\+Invariant\+Microfacet Class Reference}
\hypertarget{classph_1_1_shape_invariant_microfacet}{}\label{classph_1_1_shape_invariant_microfacet}\index{ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}}


{\ttfamily \#include $<$Shape\+Invariant\+Microfacet.\+h$>$}

Inheritance diagram for ph\+::Shape\+Invariant\+Microfacet\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.761905cm]{classph_1_1_shape_invariant_microfacet}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classph_1_1_shape_invariant_microfacet_a97d959b7fa6f8992079eedd33fa9069d}{Shape\+Invariant\+Microfacet}} (\mbox{\hyperlink{namespaceph_a0c0fa392ffb753722f245acbe724095f}{EMasking\+Shadowing}} masking\+Shadowing\+Type)
\item 
virtual std\+::array$<$ real, 2 $>$ \mbox{\hyperlink{classph_1_1_shape_invariant_microfacet_a762ece4612e3f52f8f393f7ec51d399e}{get\+Alphas}} (const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X) const =0
\item 
virtual real \mbox{\hyperlink{classph_1_1_shape_invariant_microfacet_a04535a5d0a6a328d82129b9ed153b638}{lambda}} (const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&N, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&H, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&unit\+Dir, const std\+::array$<$ real, 2 $>$ \&alphas) const =0
\begin{DoxyCompactList}\small\item\em The $ \Lambda \left( a \right) $ function that appears in the masking-\/shadowing term. For isotropic distributions, the variable $ a $ is normally calculated as $ a = \frac{1}{\alpha \tan \left( \theta \right)} $, where $ \frac{1}{\tan \left( \theta \right)} $ is the slope of the unit direction {\ttfamily unit\+Dir} (with respect to the macrosurface normal {\ttfamily N}. For anisotropic distributions, see the implementation of {\ttfamily \doxylink{classph_1_1_aniso_trowbridge_reitz}{Aniso\+Trowbridge\+Reitz}} as an example for calculating $ a $ from the parameters. \end{DoxyCompactList}\item 
real \mbox{\hyperlink{classph_1_1_shape_invariant_microfacet_a319035a3f662a3496b9134b16fc28dde}{distribution}} (const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&N, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&H) const override=0
\begin{DoxyCompactList}\small\item\em Distribution of the microfacet normal. The $ D $ term. Also commonly knwon as the NDF (normal distribution function). This term is defined in the half-\/angle/microfacet space (the angle between {\ttfamily N} and {\ttfamily H}) unless otherwise noted. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classph_1_1_shape_invariant_microfacet_a455abd61be1344105e1ef09e2975bd20}{sampleH}} (const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&N, const std\+::array$<$ real, 2 $>$ \&sample, \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \texorpdfstring{$\ast$}{*}out\+\_\+H) const override=0
\begin{DoxyCompactList}\small\item\em Generate a microfacet normal {\ttfamily H} for the distribution. This samples all possible {\ttfamily H} vectors for the distribution. \end{DoxyCompactList}\item 
real \mbox{\hyperlink{classph_1_1_shape_invariant_microfacet_a18f5cdb724cd59545dec58a98e9b4131}{geometry}} (const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&N, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&H, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&L, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&V) const override
\begin{DoxyCompactList}\small\item\em Masking and shadowing due to nearby microfacets. The $ G $ term. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classph_1_1lta_1_1_p_d_f}{lta\+::\+PDF}} \mbox{\hyperlink{classph_1_1_shape_invariant_microfacet_a66942003496cff7c3d2c406b12b5c67c}{pdf\+SampleH}} (const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&N, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&H) const override
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classph_1_1_microfacet}{ph\+::\+Microfacet}}}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{classph_1_1_microfacet_add0f4ae0b4ee374763dfb6de9e9c5ef5}{\texorpdfstring{$\sim$}{\string~}\+Microfacet}} ()=default
\item 
virtual void \mbox{\hyperlink{classph_1_1_microfacet_af5635973ab63178ac2e33a9d587e9c63}{sample\+VisibleH}} (const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&N, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&V, const std\+::array$<$ real, 2 $>$ \&sample, \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \texorpdfstring{$\ast$}{*}out\+\_\+H) const
\begin{DoxyCompactList}\small\item\em Same as {\ttfamily \doxylink{classph_1_1_microfacet_ac3ae68c29eb05aeb85b1a68fc4600239}{sample\+H()}}, but tries to take geometry term into consideration. This samples only potentially visible {\ttfamily H} vectors for the distribution. If unable to fully or partly incorporate visibility information from the geometry term, this method will fallback to {\ttfamily \doxylink{classph_1_1_microfacet_ac3ae68c29eb05aeb85b1a68fc4600239}{sample\+H()}}. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classph_1_1lta_1_1_p_d_f}{lta\+::\+PDF}} \mbox{\hyperlink{classph_1_1_microfacet_ae1daa8f290d4a5cb785fdd38ed465907}{pdf\+Sample\+VisibleH}} (const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&N, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&H, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&V) const
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
real \mbox{\hyperlink{classph_1_1_shape_invariant_microfacet_a7565e65c5fc49eefe1b773819da07b16}{smith\+G1}} (real lambda\+Value) const
\item 
real \mbox{\hyperlink{classph_1_1_shape_invariant_microfacet_a3924ed3af13bdd0b9d3c0edefa289387}{empirical\+Phi\+Correlation}} (const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&L, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&V) const
\item 
real \mbox{\hyperlink{classph_1_1_shape_invariant_microfacet_a4dff398df95cf9caecf0a05f0354243a}{projected\+Distribution}} (const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&N, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&H) const
\item 
real \mbox{\hyperlink{classph_1_1_shape_invariant_microfacet_a0e8fff5bd849b8a134d61c44350ea797}{visible\+Distribution}} (const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&N, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&H, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&V) const
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespaceph_a0c0fa392ffb753722f245acbe724095f}{EMasking\+Shadowing}} \mbox{\hyperlink{classph_1_1_shape_invariant_microfacet_a4a4d1dc8b281ce08df4c6f24c3f3c54e}{m\+\_\+masking\+Shadowing\+Type}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Static Protected Member Functions inherited from \mbox{\hyperlink{classph_1_1_microfacet}{ph\+::\+Microfacet}}}
\begin{DoxyCompactItemize}
\item 
static bool \mbox{\hyperlink{classph_1_1_microfacet_aa9df79e36568c25023b8c1268b4a4995}{is\+Sidedness\+Agreed}} (real NoD, real HoD)
\item 
static bool \mbox{\hyperlink{classph_1_1_microfacet_a1316faadbc9d0e83a542612d925dff61}{is\+Sidedness\+Agreed}} (real NoL, real NoV, real HoL, real HoV)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A microfacet distribution that always has the same shape. The {\ttfamily alpha} (mapped from roughness) parameter will only stretch and scale the shape. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classph_1_1_shape_invariant_microfacet_a97d959b7fa6f8992079eedd33fa9069d}\index{ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}!ShapeInvariantMicrofacet@{ShapeInvariantMicrofacet}}
\index{ShapeInvariantMicrofacet@{ShapeInvariantMicrofacet}!ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}}
\doxysubsubsection{\texorpdfstring{ShapeInvariantMicrofacet()}{ShapeInvariantMicrofacet()}}
{\footnotesize\ttfamily \label{classph_1_1_shape_invariant_microfacet_a97d959b7fa6f8992079eedd33fa9069d} 
ph\+::\+Shape\+Invariant\+Microfacet\+::\+Shape\+Invariant\+Microfacet (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceph_a0c0fa392ffb753722f245acbe724095f}{EMasking\+Shadowing}}}]{masking\+Shadowing\+Type}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



\doxysubsection{Member Function Documentation}
\Hypertarget{classph_1_1_shape_invariant_microfacet_a319035a3f662a3496b9134b16fc28dde}\index{ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}!distribution@{distribution}}
\index{distribution@{distribution}!ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}}
\doxysubsubsection{\texorpdfstring{distribution()}{distribution()}}
{\footnotesize\ttfamily \label{classph_1_1_shape_invariant_microfacet_a319035a3f662a3496b9134b16fc28dde} 
real ph\+::\+Shape\+Invariant\+Microfacet\+::distribution (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&}]{X}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{N}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{H}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [pure virtual]}}



Distribution of the microfacet normal. The $ D $ term. Also commonly knwon as the NDF (normal distribution function). This term is defined in the half-\/angle/microfacet space (the angle between {\ttfamily N} and {\ttfamily H}) unless otherwise noted. 


\begin{DoxyParams}{Parameters}
{\em H} & The microfacet normal. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
Do not treat this term as the probability density of microfacet normal over solid angle. 
\end{DoxyRemark}


Implements \mbox{\hyperlink{classph_1_1_microfacet_aea270602fed6f45a36991b7134a58aba}{ph\+::\+Microfacet}}.



Implemented in \mbox{\hyperlink{classph_1_1_aniso_trowbridge_reitz_a178a10df769c510ece60b4166b917164}{ph\+::\+Aniso\+Trowbridge\+Reitz}}, \mbox{\hyperlink{classph_1_1_iso_beckmann_a0d9481a5e597ff51fac20ae24fcd5e1b}{ph\+::\+Iso\+Beckmann}}, \mbox{\hyperlink{classph_1_1_iso_trowbridge_reitz_a66e9bc138e61238cb5a0339a29851ae6}{ph\+::\+Iso\+Trowbridge\+Reitz}}, and \mbox{\hyperlink{classph_1_1_trowbridge_reitz_a2aa124197f17767b9c7b7b29ac061371}{ph\+::\+Trowbridge\+Reitz}}.

\Hypertarget{classph_1_1_shape_invariant_microfacet_a3924ed3af13bdd0b9d3c0edefa289387}\index{ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}!empiricalPhiCorrelation@{empiricalPhiCorrelation}}
\index{empiricalPhiCorrelation@{empiricalPhiCorrelation}!ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}}
\doxysubsubsection{\texorpdfstring{empiricalPhiCorrelation()}{empiricalPhiCorrelation()}}
{\footnotesize\ttfamily \label{classph_1_1_shape_invariant_microfacet_a3924ed3af13bdd0b9d3c0edefa289387} 
real ph\+::\+Shape\+Invariant\+Microfacet\+::empirical\+Phi\+Correlation (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&}]{X}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{L}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{V}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}

The $ \lambda $ term for directional correlation. Note that the function is defined in a way that 0 corresponds to full correlation and 1 corresponds to no correlation. \Hypertarget{classph_1_1_shape_invariant_microfacet_a18f5cdb724cd59545dec58a98e9b4131}\index{ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}!geometry@{geometry}}
\index{geometry@{geometry}!ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}}
\doxysubsubsection{\texorpdfstring{geometry()}{geometry()}}
{\footnotesize\ttfamily \label{classph_1_1_shape_invariant_microfacet_a18f5cdb724cd59545dec58a98e9b4131} 
real ph\+::\+Shape\+Invariant\+Microfacet\+::geometry (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&}]{X}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{N}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{H}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{L}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{V}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Masking and shadowing due to nearby microfacets. The $ G $ term. 



Implements \mbox{\hyperlink{classph_1_1_microfacet_a4fa386b9ae127ec77b447aaa2f298f12}{ph\+::\+Microfacet}}.

\Hypertarget{classph_1_1_shape_invariant_microfacet_a762ece4612e3f52f8f393f7ec51d399e}\index{ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}!getAlphas@{getAlphas}}
\index{getAlphas@{getAlphas}!ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}}
\doxysubsubsection{\texorpdfstring{getAlphas()}{getAlphas()}}
{\footnotesize\ttfamily \label{classph_1_1_shape_invariant_microfacet_a762ece4612e3f52f8f393f7ec51d399e} 
virtual std\+::array$<$ real, 2 $>$ ph\+::\+Shape\+Invariant\+Microfacet\+::get\+Alphas (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&}]{X}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}

\begin{DoxyReturn}{Returns}
$ \left( \alpha_u, \alpha_v \right) $ in the U and V directions of the macrosirface parametrization. Guaranteed to have $ \alpha_u = \alpha_v $ for an isotropic distribution. 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classph_1_1_aniso_trowbridge_reitz_a0c492973b6ca0a636b54803ed293a82e}{ph\+::\+Aniso\+Trowbridge\+Reitz}}, \mbox{\hyperlink{classph_1_1_iso_beckmann_a1a20a44b08773c91312c286756624dde}{ph\+::\+Iso\+Beckmann}}, \mbox{\hyperlink{classph_1_1_iso_trowbridge_reitz_a39a86af27995e0bca098048297468b7a}{ph\+::\+Iso\+Trowbridge\+Reitz}}, \mbox{\hyperlink{classph_1_1_iso_trowbridge_reitz_constant_a6c54862e9e670832ab4aab7b79f1aef7}{ph\+::\+Iso\+Trowbridge\+Reitz\+Constant}}, \mbox{\hyperlink{classph_1_1_iso_trowbridge_reitz_textured_a58914f20a8a428036f7c32d9058f8685}{ph\+::\+Iso\+Trowbridge\+Reitz\+Textured}}, and \mbox{\hyperlink{classph_1_1_trowbridge_reitz_a0ffebe60527177de92f632fc0effd28f}{ph\+::\+Trowbridge\+Reitz}}.

\Hypertarget{classph_1_1_shape_invariant_microfacet_a04535a5d0a6a328d82129b9ed153b638}\index{ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}!lambda@{lambda}}
\index{lambda@{lambda}!ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}}
\doxysubsubsection{\texorpdfstring{lambda()}{lambda()}}
{\footnotesize\ttfamily \label{classph_1_1_shape_invariant_microfacet_a04535a5d0a6a328d82129b9ed153b638} 
virtual real ph\+::\+Shape\+Invariant\+Microfacet\+::lambda (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&}]{X}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{N}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{H}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{unit\+Dir}{, }\item[{const std\+::array$<$ real, 2 $>$ \&}]{alphas}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



The $ \Lambda \left( a \right) $ function that appears in the masking-\/shadowing term. For isotropic distributions, the variable $ a $ is normally calculated as $ a = \frac{1}{\alpha \tan \left( \theta \right)} $, where $ \frac{1}{\tan \left( \theta \right)} $ is the slope of the unit direction {\ttfamily unit\+Dir} (with respect to the macrosurface normal {\ttfamily N}. For anisotropic distributions, see the implementation of {\ttfamily \doxylink{classph_1_1_aniso_trowbridge_reitz}{Aniso\+Trowbridge\+Reitz}} as an example for calculating $ a $ from the parameters. 

\begin{DoxyNote}{Note}
This method does not handle sidedness agreement. 
\end{DoxyNote}


Implemented in \mbox{\hyperlink{classph_1_1_aniso_trowbridge_reitz_a1bd9a7b2e74199166d8f72f5b0981fbb}{ph\+::\+Aniso\+Trowbridge\+Reitz}}, \mbox{\hyperlink{classph_1_1_iso_beckmann_a9fb87924bfd02ef461078548ab886476}{ph\+::\+Iso\+Beckmann}}, \mbox{\hyperlink{classph_1_1_iso_trowbridge_reitz_a1a8d609d638babfcd61a43da1be1e0aa}{ph\+::\+Iso\+Trowbridge\+Reitz}}, and \mbox{\hyperlink{classph_1_1_trowbridge_reitz_a6c878329d85a7adeea045e0204e496ee}{ph\+::\+Trowbridge\+Reitz}}.

\Hypertarget{classph_1_1_shape_invariant_microfacet_a66942003496cff7c3d2c406b12b5c67c}\index{ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}!pdfSampleH@{pdfSampleH}}
\index{pdfSampleH@{pdfSampleH}!ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}}
\doxysubsubsection{\texorpdfstring{pdfSampleH()}{pdfSampleH()}}
{\footnotesize\ttfamily \label{classph_1_1_shape_invariant_microfacet_a66942003496cff7c3d2c406b12b5c67c} 
\mbox{\hyperlink{classph_1_1lta_1_1_p_d_f}{lta\+::\+PDF}} ph\+::\+Shape\+Invariant\+Microfacet\+::pdf\+SampleH (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&}]{X}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{N}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{H}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

\begin{DoxyReturn}{Returns}
PDF of generating the specific microfacet normal {\ttfamily H} using {\ttfamily \doxylink{classph_1_1_shape_invariant_microfacet_a455abd61be1344105e1ef09e2975bd20}{sample\+H()}}. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classph_1_1_microfacet_a9186f999c6cc737ff2f2918db79722ac}{ph\+::\+Microfacet}}.

\Hypertarget{classph_1_1_shape_invariant_microfacet_a4dff398df95cf9caecf0a05f0354243a}\index{ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}!projectedDistribution@{projectedDistribution}}
\index{projectedDistribution@{projectedDistribution}!ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}}
\doxysubsubsection{\texorpdfstring{projectedDistribution()}{projectedDistribution()}}
{\footnotesize\ttfamily \label{classph_1_1_shape_invariant_microfacet_a4dff398df95cf9caecf0a05f0354243a} 
real ph\+::\+Shape\+Invariant\+Microfacet\+::projected\+Distribution (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&}]{X}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{N}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{H}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

\begin{DoxyReturn}{Returns}
Assuming {\ttfamily \doxylink{classph_1_1_shape_invariant_microfacet_a319035a3f662a3496b9134b16fc28dde}{distribution()}} is defined in the half-\/angle/microfacet space, return the value after projecting it onto the macrosurface. This is the normalized form of {\ttfamily \doxylink{classph_1_1_shape_invariant_microfacet_a319035a3f662a3496b9134b16fc28dde}{distribution()}} and can be a potential sampling PDF for microfacet normals. 
\end{DoxyReturn}
\Hypertarget{classph_1_1_shape_invariant_microfacet_a455abd61be1344105e1ef09e2975bd20}\index{ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}!sampleH@{sampleH}}
\index{sampleH@{sampleH}!ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}}
\doxysubsubsection{\texorpdfstring{sampleH()}{sampleH()}}
{\footnotesize\ttfamily \label{classph_1_1_shape_invariant_microfacet_a455abd61be1344105e1ef09e2975bd20} 
void ph\+::\+Shape\+Invariant\+Microfacet\+::sampleH (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&}]{X}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{N}{, }\item[{const std\+::array$<$ real, 2 $>$ \&}]{sample}{, }\item[{\mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \texorpdfstring{$\ast$}{*}}]{out\+\_\+H}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [pure virtual]}}



Generate a microfacet normal {\ttfamily H} for the distribution. This samples all possible {\ttfamily H} vectors for the distribution. 


\begin{DoxyParams}{Parameters}
{\em out\+\_\+H} & The generated microfacet normal. \\
\hline
\end{DoxyParams}
\begin{DoxyRemark}{Remarks}
Use {\ttfamily \doxylink{classph_1_1_shape_invariant_microfacet_a66942003496cff7c3d2c406b12b5c67c}{pdf\+Sample\+H()}} for the probability density of sampling the generated {\ttfamily H}. {\ttfamily \doxylink{classph_1_1_shape_invariant_microfacet_a319035a3f662a3496b9134b16fc28dde}{distribution()}} is not a probability density of microfacet normal. 
\end{DoxyRemark}


Implements \mbox{\hyperlink{classph_1_1_microfacet_ac3ae68c29eb05aeb85b1a68fc4600239}{ph\+::\+Microfacet}}.



Implemented in \mbox{\hyperlink{classph_1_1_aniso_trowbridge_reitz_a2f032e0b0d12ae42f5a2d241110444fc}{ph\+::\+Aniso\+Trowbridge\+Reitz}}, \mbox{\hyperlink{classph_1_1_iso_beckmann_ab5d59e9f3e51787ab8868e7a40d265ba}{ph\+::\+Iso\+Beckmann}}, \mbox{\hyperlink{classph_1_1_iso_trowbridge_reitz_ad8a59ac599a2a9863518f36da7e95410}{ph\+::\+Iso\+Trowbridge\+Reitz}}, and \mbox{\hyperlink{classph_1_1_trowbridge_reitz_ab18b918f2bd6300ea031fa670c14ab1b}{ph\+::\+Trowbridge\+Reitz}}.

\Hypertarget{classph_1_1_shape_invariant_microfacet_a7565e65c5fc49eefe1b773819da07b16}\index{ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}!smithG1@{smithG1}}
\index{smithG1@{smithG1}!ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}}
\doxysubsubsection{\texorpdfstring{smithG1()}{smithG1()}}
{\footnotesize\ttfamily \label{classph_1_1_shape_invariant_microfacet_a7565e65c5fc49eefe1b773819da07b16} 
real ph\+::\+Shape\+Invariant\+Microfacet\+::smith\+G1 (\begin{DoxyParamCaption}\item[{real}]{lambda\+Value}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

The $ G_1 $ term of Smith\textquotesingle{}s masking-\/shadowing function. \Hypertarget{classph_1_1_shape_invariant_microfacet_a0e8fff5bd849b8a134d61c44350ea797}\index{ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}!visibleDistribution@{visibleDistribution}}
\index{visibleDistribution@{visibleDistribution}!ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}}
\doxysubsubsection{\texorpdfstring{visibleDistribution()}{visibleDistribution()}}
{\footnotesize\ttfamily \label{classph_1_1_shape_invariant_microfacet_a0e8fff5bd849b8a134d61c44350ea797} 
real ph\+::\+Shape\+Invariant\+Microfacet\+::visible\+Distribution (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&}]{X}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{N}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{H}{, }\item[{const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&}]{V}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



\doxysubsection{Member Data Documentation}
\Hypertarget{classph_1_1_shape_invariant_microfacet_a4a4d1dc8b281ce08df4c6f24c3f3c54e}\index{ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}!m\_maskingShadowingType@{m\_maskingShadowingType}}
\index{m\_maskingShadowingType@{m\_maskingShadowingType}!ph::ShapeInvariantMicrofacet@{ph::ShapeInvariantMicrofacet}}
\doxysubsubsection{\texorpdfstring{m\_maskingShadowingType}{m\_maskingShadowingType}}
{\footnotesize\ttfamily \label{classph_1_1_shape_invariant_microfacet_a4a4d1dc8b281ce08df4c6f24c3f3c54e} 
\mbox{\hyperlink{namespaceph_a0c0fa392ffb753722f245acbe724095f}{EMasking\+Shadowing}} ph\+::\+Shape\+Invariant\+Microfacet\+::m\+\_\+masking\+Shadowing\+Type\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Source/\+Core/\+Surface\+Behavior/\+Property/\mbox{\hyperlink{_shape_invariant_microfacet_8h}{Shape\+Invariant\+Microfacet.\+h}}\item 
Source/\+Core/\+Surface\+Behavior/\+Property/\mbox{\hyperlink{_shape_invariant_microfacet_8cpp}{Shape\+Invariant\+Microfacet.\+cpp}}\end{DoxyCompactItemize}
