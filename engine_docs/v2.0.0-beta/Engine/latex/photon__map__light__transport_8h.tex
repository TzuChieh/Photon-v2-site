\doxysection{Source/\+Core/\+Renderer/\+PM/photon\+\_\+map\+\_\+light\+\_\+transport.h File Reference}
\hypertarget{photon__map__light__transport_8h}{}\label{photon__map__light__transport_8h}\index{Source/Core/Renderer/PM/photon\_map\_light\_transport.h@{Source/Core/Renderer/PM/photon\_map\_light\_transport.h}}
{\ttfamily \#include "{}Core/\+Renderer/\+PM/\+TPhoton.\+h"{}}\newline
{\ttfamily \#include "{}Core/\+Renderer/\+PM/\+TPhoton\+Map.\+h"{}}\newline
{\ttfamily \#include "{}Core/\+Renderer/\+PM/\+PMCommon\+Params.\+h"{}}\newline
{\ttfamily \#include "{}Core/\+LTA/\+Sidedness\+Agreement.\+h"{}}\newline
{\ttfamily \#include "{}Core/\+LTA/\+Russian\+Roulette.\+h"{}}\newline
{\ttfamily \#include "{}Core/\+LTA/\+TDirect\+Light\+Estimator.\+h"{}}\newline
{\ttfamily \#include "{}Core/\+LTA/\+TIndirect\+Light\+Estimator.\+h"{}}\newline
{\ttfamily \#include "{}Core/\+Surface\+Hit.\+h"{}}\newline
{\ttfamily \#include "{}Core/\+Intersection/\+Primitive.\+h"{}}\newline
{\ttfamily \#include "{}Core/\+Intersection/\+Primitive\+Metadata.\+h"{}}\newline
{\ttfamily \#include "{}Core/\+Emitter/\+Emitter.\+h"{}}\newline
{\ttfamily \#include "{}Core/\+Surface\+Behavior/\+Surface\+Behavior.\+h"{}}\newline
{\ttfamily \#include "{}Core/\+Surface\+Behavior/\+Surface\+Optics.\+h"{}}\newline
{\ttfamily \#include "{}Core/\+Surface\+Behavior/\+Bsdf\+Sample\+Query.\+h"{}}\newline
{\ttfamily \#include "{}Math/\+TVector3.\+h"{}}\newline
{\ttfamily \#include "{}Math/\+Color/\+Spectrum.\+h"{}}\newline
{\ttfamily \#include $<$Common/assertion.\+h$>$}\newline
{\ttfamily \#include $<$Common/primitive\+\_\+type.\+h$>$}\newline
{\ttfamily \#include $<$cstddef$>$}\newline
{\ttfamily \#include $<$limits$>$}\newline
{\ttfamily \#include $<$algorithm$>$}\newline
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespaceph}{ph}}
\begin{DoxyCompactList}\small\item\em The root for all renderer implementations. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$CPhoton Photon$>$ }\\bool \mbox{\hyperlink{namespaceph_ab9d4b27758a195a566ee213c1f41f96f}{ph\+::accept\+\_\+photon\+\_\+by\+\_\+surface\+\_\+topology}} (const Photon \&photon, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&Ng, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&Ns, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&L, const \mbox{\hyperlink{namespaceph_1_1math_a7f5d9bea70db00eb52ece79b05e544c8}{math\+::\+Vector3R}} \&V, const \mbox{\hyperlink{classph_1_1lta_1_1_sidedness_agreement}{lta\+::\+Sidedness\+Agreement}} \&sidedness)
\item 
{\footnotesize template$<$CPhoton Photon$>$ }\\\mbox{\hyperlink{namespaceph_1_1math_ad1ddf3801f5a9ea201227d49747987ed}{math\+::\+Spectrum}} \mbox{\hyperlink{namespaceph_a7bddcd600f81212f4e8ff4071dc640b7}{ph\+::estimate\+\_\+certainly\+\_\+lost\+\_\+energy}} (const std\+::size\+\_\+t view\+Path\+Length, const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X, const \mbox{\hyperlink{namespaceph_1_1math_ad1ddf3801f5a9ea201227d49747987ed}{math\+::\+Spectrum}} \&view\+Path\+Throughput, const \mbox{\hyperlink{classph_1_1_t_photon_map_info}{TPhoton\+Map\+Info}}$<$ Photon $>$ \&photon\+Map\+Info, const \mbox{\hyperlink{classph_1_1_scene}{Scene}} \texorpdfstring{$\ast$}{*}scene, const std\+::size\+\_\+t min\+Full\+Path\+Length=1, const std\+::size\+\_\+t max\+Full\+Path\+Length=\mbox{\hyperlink{classph_1_1_p_m_common_params_add7ec0cd3fbcd49279d13ef7a77f4b57}{PMCommon\+Params\+::\+DEFAULT\+\_\+\+MAX\+\_\+\+PATH\+\_\+\+LENGTH}})
\begin{DoxyCompactList}\small\item\em Estimate the energy that can never be obtained by utilizing a photon map. The estimation is for the current hit point only. To account for lost energy along a path with multiple hit points, call this function for each hit point and sum the results. \end{DoxyCompactList}\item 
{\footnotesize template$<$CPhoton Photon$>$ }\\\mbox{\hyperlink{namespaceph_1_1math_ad1ddf3801f5a9ea201227d49747987ed}{math\+::\+Spectrum}} \mbox{\hyperlink{namespaceph_a4157e74ef0b3f83ee81fb342f3cdb0b8}{ph\+::estimate\+\_\+lost\+\_\+energy\+\_\+for\+\_\+extending}} (const std\+::size\+\_\+t view\+Path\+Length, const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X, const \mbox{\hyperlink{namespaceph_1_1math_ad1ddf3801f5a9ea201227d49747987ed}{math\+::\+Spectrum}} \&view\+Path\+Throughput, const \mbox{\hyperlink{classph_1_1_t_photon_map_info}{TPhoton\+Map\+Info}}$<$ Photon $>$ \&photon\+Map\+Info, const \mbox{\hyperlink{classph_1_1_scene}{Scene}} \texorpdfstring{$\ast$}{*}scene, const std\+::size\+\_\+t min\+Full\+Path\+Length=1, const std\+::size\+\_\+t max\+Full\+Path\+Length=\mbox{\hyperlink{classph_1_1_p_m_common_params_add7ec0cd3fbcd49279d13ef7a77f4b57}{PMCommon\+Params\+::\+DEFAULT\+\_\+\+MAX\+\_\+\+PATH\+\_\+\+LENGTH}})
\begin{DoxyCompactList}\small\item\em Estimate the energy that is otherwise lost forever if the path is extended. The estimation is for the current hit point only. To account for lost energy along an extended path with multiple hit points, call this function for each hit point and sum the results. For a hit point, only one of {\ttfamily \doxylink{namespaceph_a4157e74ef0b3f83ee81fb342f3cdb0b8}{estimate\+\_\+lost\+\_\+energy\+\_\+for\+\_\+extending()}} and {\ttfamily \doxylink{namespaceph_a45199b25a540099512e7209137092fdf}{estimate\+\_\+lost\+\_\+energy\+\_\+for\+\_\+merging()}} can be called. \end{DoxyCompactList}\item 
{\footnotesize template$<$CPhoton Photon$>$ }\\\mbox{\hyperlink{namespaceph_1_1math_ad1ddf3801f5a9ea201227d49747987ed}{math\+::\+Spectrum}} \mbox{\hyperlink{namespaceph_a45199b25a540099512e7209137092fdf}{ph\+::estimate\+\_\+lost\+\_\+energy\+\_\+for\+\_\+merging}} (const std\+::size\+\_\+t view\+Path\+Length, const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X, const \mbox{\hyperlink{namespaceph_1_1math_ad1ddf3801f5a9ea201227d49747987ed}{math\+::\+Spectrum}} \&view\+Path\+Throughput, const \mbox{\hyperlink{classph_1_1_t_photon_map_info}{TPhoton\+Map\+Info}}$<$ Photon $>$ \&photon\+Map\+Info, const \mbox{\hyperlink{classph_1_1_scene}{Scene}} \texorpdfstring{$\ast$}{*}scene, const std\+::size\+\_\+t min\+Full\+Path\+Length=1, const std\+::size\+\_\+t max\+Full\+Path\+Length=\mbox{\hyperlink{classph_1_1_p_m_common_params_add7ec0cd3fbcd49279d13ef7a77f4b57}{PMCommon\+Params\+::\+DEFAULT\+\_\+\+MAX\+\_\+\+PATH\+\_\+\+LENGTH}})
\begin{DoxyCompactList}\small\item\em Estimate the energy that is otherwise lost forever if the path is merged. The estimation is for the current hit point only and is expected to be called when the path ended (merged). For a hit point, only one of {\ttfamily \doxylink{namespaceph_a4157e74ef0b3f83ee81fb342f3cdb0b8}{estimate\+\_\+lost\+\_\+energy\+\_\+for\+\_\+extending()}} and {\ttfamily \doxylink{namespaceph_a45199b25a540099512e7209137092fdf}{estimate\+\_\+lost\+\_\+energy\+\_\+for\+\_\+merging()}} can be called. \end{DoxyCompactList}\end{DoxyCompactItemize}
