\doxysection{Byte\+Buffer\+Input\+Stream.\+h}
\hypertarget{_byte_buffer_input_stream_8h_source}{}\label{_byte_buffer_input_stream_8h_source}\index{Source/DataIO/Stream/ByteBufferInputStream.h@{Source/DataIO/Stream/ByteBufferInputStream.h}}
\mbox{\hyperlink{_byte_buffer_input_stream_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_i_input_stream_8h}{DataIO/Stream/IInputStream.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{io__exceptions_8h}{DataIO/io\_exceptions.h}}"{}}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <Common/assertion.h>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <cstddef>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <format>}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceph}{ph}}}
\DoxyCodeLine{00015\ \{}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classph_1_1_byte_buffer_input_stream}{ByteBufferInputStream}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classph_1_1_i_input_stream}{IInputStream}}}
\DoxyCodeLine{00020\ \{}
\DoxyCodeLine{00021\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00022\ \ \ \ \ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a5fcaef8189f0150a872f5c0fe8f26826}{ByteBufferInputStream}}();}
\DoxyCodeLine{00023\ \ \ \ \ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a5fcaef8189f0150a872f5c0fe8f26826}{ByteBufferInputStream}}(\textcolor{keyword}{const}\ std::byte*\ srcByteBuffer,\ std::size\_t\ numBytes);}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a5fcaef8189f0150a872f5c0fe8f26826}{ByteBufferInputStream}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ srcCharBuffer,\ std::size\_t\ numChars);}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a5fcaef8189f0150a872f5c0fe8f26826}{ByteBufferInputStream}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}*\ srcUCharBuffer,\ std::size\_t\ numUChars);}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a5fcaef8189f0150a872f5c0fe8f26826}{ByteBufferInputStream}}(std::size\_t\ numBytes);}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a81203ec4723689526ee4e6f76cf9b5f1}{ByteBufferInputStream}}(\mbox{\hyperlink{classph_1_1_byte_buffer_input_stream}{ByteBufferInputStream}}\&\&\ other)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_aaa3b1c48b2ff207a2ddfd877c8373d7e}{read}}(std::size\_t\ numBytes,\ std::byte*\ out\_bytes)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a4492e8813fca4621a0652a081597ac34}{readString}}(std::string*\ out\_string,\ \textcolor{keywordtype}{char}\ delimiter)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a46844aec5022752b7fca2eee8374bb54}{seekGet}}(std::size\_t\ pos)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00032\ \ \ \ \ std::optional<std::size\_t>\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a158c89d7e05dc9a328dbae3adfce794d}{tellGet}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keyword}{operator}\ bool\ ()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00034\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_ad11b8290552e2c2da98fcb9e579ba3ad}{readSome}}(std::size\_t\ numBytes,\ std::byte*\ out\_bytes)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_afb75c64dd14f87612fbae375db94ce4f}{readData}}(T*\ out\_data);}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00041\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00046\ \ \ \ \ std::byte*\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a09f33d06b0b1010ac0409efd6d613fe1}{byteBuffer}}();}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{const}\ std::byte*\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a09f33d06b0b1010ac0409efd6d613fe1}{byteBuffer}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a3a68e0f7bc352888ebe42c4ad0f96521}{charBuffer}}();}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a3a68e0f7bc352888ebe42c4ad0f96521}{charBuffer}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_aac5f174ee25c50910c8b4c2267ed05d3}{ucharBuffer}}();}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_aac5f174ee25c50910c8b4c2267ed05d3}{ucharBuffer}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_afd6c22e7bd88058de6ca0b0f325acc18}{canRead}}(std::size\_t\ numBytes)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_afd6c22e7bd88058de6ca0b0f325acc18}{canRead}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream}{ByteBufferInputStream}}\&\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a922af9c21d205acc26390431ec522847}{operator\ =\ }}(\mbox{\hyperlink{classph_1_1_byte_buffer_input_stream}{ByteBufferInputStream}}\&\&\ rhs)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00073\ \ \ \ \ std::unique\_ptr<std::byte[]>\ m\_byteBuffer;}
\DoxyCodeLine{00074\ \ \ \ \ std::size\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_numBytes;}
\DoxyCodeLine{00075\ \ \ \ \ std::size\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_readHead;}
\DoxyCodeLine{00076\ \};}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \textcolor{comment}{//\ In-\/header\ Implementations:}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_aaa3b1c48b2ff207a2ddfd877c8373d7e}{ByteBufferInputStream::read}}(\textcolor{keyword}{const}\ std::size\_t\ numBytes,\ std::byte*\ \textcolor{keyword}{const}\ out\_bytes)}
\DoxyCodeLine{00081\ \{}
\DoxyCodeLine{00082\ \ \ \ \ PH\_ASSERT(out\_bytes);}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_afd6c22e7bd88058de6ca0b0f325acc18}{canRead}}(numBytes))}
\DoxyCodeLine{00085\ \ \ \ \ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ PH\_ASSERT\_LT(m\_readHead,\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}());}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ PH\_ASSERT\_LE(m\_readHead\ +\ numBytes,\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}());}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ std::copy(}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a09f33d06b0b1010ac0409efd6d613fe1}{byteBuffer}}()\ +\ m\_readHead,\ }
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a09f33d06b0b1010ac0409efd6d613fe1}{byteBuffer}}()\ +\ m\_readHead\ +\ numBytes,}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ out\_bytes);}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ m\_readHead\ +=\ numBytes;}
\DoxyCodeLine{00095\ \ \ \ \ \}}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00097\ \ \ \ \ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classph_1_1_i_o_exception}{IOException}}(std::format(}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Attempt\ to\ read\ bytes\ in\ [\{\},\ \{\})\ which\ overflows\ [\{\},\ \{\})."{}},}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ m\_readHead,\ m\_readHead\ +\ numBytes,\ m\_readHead,\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}()));}
\DoxyCodeLine{00101\ \ \ \ \ \}}
\DoxyCodeLine{00102\ \}}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a4492e8813fca4621a0652a081597ac34}{ByteBufferInputStream::readString}}(std::string*\ \textcolor{keyword}{const}\ out\_string,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ delimiter)}
\DoxyCodeLine{00105\ \{}
\DoxyCodeLine{00106\ \ \ \ \ PH\_ASSERT(out\_string);}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_afd6c22e7bd88058de6ca0b0f325acc18}{canRead}}())}
\DoxyCodeLine{00109\ \ \ \ \ \{}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ PH\_ASSERT\_LT(m\_readHead,\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}());}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \textcolor{keyword}{const}\ charBufferView\ =\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a3a68e0f7bc352888ebe42c4ad0f96521}{charBuffer}}();}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::size\_t\ beginIdx\ =\ m\_readHead;}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(;\ m\_readHead\ <\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}();\ ++m\_readHead)}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(charBufferView[m\_readHead]\ ==\ delimiter)}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++m\_readHead;}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ <m\_readHead>\ is\ on\ either\ one\ past\ delimiter\ or\ buffer\ size\ after\ the\ loop}}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ PH\_ASSERT\_LT(beginIdx,\ m\_readHead);}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ out\_string-\/>clear();}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Ternary\ for\ not\ to\ include\ the\ delimiter\ in\ the\ output\ string}}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ numChars\ =\ m\_readHead\ <\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}()\ ?\ m\_readHead\ -\/\ 1\ -\/\ beginIdx\ :\ m\_readHead\ -\/\ beginIdx;}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ out\_string-\/>append(}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \&(charBufferView[beginIdx]),}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ numChars);}
\DoxyCodeLine{00134\ \ \ \ \ \}}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00136\ \ \ \ \ \{}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classph_1_1_i_o_exception}{IOException}}(std::format(}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Attempt\ to\ read\ a\ string\ with\ delimiter\ \{\}\ from\ buffer\ range\ [\{\},\ \{\})."{}},}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ delimiter,\ m\_readHead,\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}()));}
\DoxyCodeLine{00140\ \ \ \ \ \}}
\DoxyCodeLine{00141\ \}}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a46844aec5022752b7fca2eee8374bb54}{ByteBufferInputStream::seekGet}}(\textcolor{keyword}{const}\ std::size\_t\ pos)}
\DoxyCodeLine{00144\ \{}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordflow}{if}(pos\ <\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}())}
\DoxyCodeLine{00146\ \ \ \ \ \{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ m\_readHead\ =\ pos;}
\DoxyCodeLine{00148\ \ \ \ \ \}}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00150\ \ \ \ \ \{}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \mbox{\hyperlink{classph_1_1_i_o_exception}{IOException}}(std::format(}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Attempt\ to\ seek\ to\ read\ position\ \{\}\ which\ overflows\ [0,\ \{\})."{}},}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ pos,\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}()));}
\DoxyCodeLine{00154\ \ \ \ \ \}}
\DoxyCodeLine{00155\ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \textcolor{keyword}{inline}\ std::optional<std::size\_t>\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a158c89d7e05dc9a328dbae3adfce794d}{ByteBufferInputStream::tellGet}}()}
\DoxyCodeLine{00158\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_readHead;}
\DoxyCodeLine{00160\ \}}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \textcolor{keyword}{inline}\ std::size\_t\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_ad11b8290552e2c2da98fcb9e579ba3ad}{ByteBufferInputStream::readSome}}(\textcolor{keyword}{const}\ std::size\_t\ numBytes,\ std::byte*\ \textcolor{keyword}{const}\ out\_bytes)}
\DoxyCodeLine{00163\ \{}
\DoxyCodeLine{00164\ \ \ \ \ PH\_ASSERT(out\_bytes);}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_afd6c22e7bd88058de6ca0b0f325acc18}{canRead}}(numBytes))}
\DoxyCodeLine{00167\ \ \ \ \ \{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_aaa3b1c48b2ff207a2ddfd877c8373d7e}{read}}(numBytes,\ out\_bytes);}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ numBytes;}
\DoxyCodeLine{00170\ \ \ \ \ \}}
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00172\ \ \ \ \ \{}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ PH\_ASSERT\_LE(m\_readHead,\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}());}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ numRemainingBytes\ =\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}()\ -\/\ m\_readHead;}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ PH\_ASSERT\_LT(numRemainingBytes,\ numBytes);}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_aaa3b1c48b2ff207a2ddfd877c8373d7e}{read}}(numRemainingBytes,\ out\_bytes);}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ numRemainingBytes;}
\DoxyCodeLine{00179\ \ \ \ \ \}}
\DoxyCodeLine{00180\ \}}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_afd6c22e7bd88058de6ca0b0f325acc18}{ByteBufferInputStream::canRead}}(\textcolor{keyword}{const}\ std::size\_t\ numBytes)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00183\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00184\ \ \ \ \ PH\_ASSERT(}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ m\_byteBuffer\ ||}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ (!m\_byteBuffer\ \&\&\ m\_readHead\ ==\ 0\ \&\&\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}()\ ==\ 0));}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{comment}{//\ For\ empty\ buffer,\ the\ only\ allowed\ <numBytes>\ to\ read\ is\ 0}}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_readHead\ +\ numBytes\ <=\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}();}
\DoxyCodeLine{00190\ \}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_afd6c22e7bd88058de6ca0b0f325acc18}{ByteBufferInputStream::canRead}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00193\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00194\ \ \ \ \ PH\_ASSERT(}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ m\_byteBuffer\ ||\ }
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ (!m\_byteBuffer\ \&\&\ m\_readHead\ ==\ 0\ \&\&\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}()\ ==\ 0));}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{comment}{//\ For\ empty\ buffer,\ both\ <m\_readHead>\ and\ <numBufferBytes()>\ should\ be\ 0\ which\ results\ in\ \`{}false`}}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_readHead\ <\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{numBufferBytes}}();}
\DoxyCodeLine{00200\ \}}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \textcolor{keyword}{inline}\ ByteBufferInputStream::operator\ bool\ ()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00203\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{keywordflow}{return}\ canRead();}
\DoxyCodeLine{00205\ \}}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00208\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_afb75c64dd14f87612fbae375db94ce4f}{ByteBufferInputStream::readData}}(T*\ \textcolor{keyword}{const}\ out\_data)}
\DoxyCodeLine{00209\ \{}
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{keyword}{static\_assert}(std::is\_trivially\_copyable\_v<T>);}
\DoxyCodeLine{00211\ \ \ \ \ PH\_ASSERT(out\_data);}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \ \ \ \ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_aaa3b1c48b2ff207a2ddfd877c8373d7e}{read}}(\textcolor{keyword}{sizeof}(T),\ \textcolor{keyword}{reinterpret\_cast<}std::byte*\textcolor{keyword}{>}(out\_data));}
\DoxyCodeLine{00214\ \}}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \textcolor{keyword}{inline}\ std::size\_t\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a605f9c257b4aa87ce2025b075853c66a}{ByteBufferInputStream::numBufferBytes}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00217\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_numBytes;}
\DoxyCodeLine{00219\ \}}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \textcolor{keyword}{inline}\ std::byte*\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a09f33d06b0b1010ac0409efd6d613fe1}{ByteBufferInputStream::byteBuffer}}()}
\DoxyCodeLine{00222\ \{}
\DoxyCodeLine{00223\ \ \ \ \ PH\_ASSERT(m\_byteBuffer);}
\DoxyCodeLine{00224\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_byteBuffer.get();}
\DoxyCodeLine{00225\ \}}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ std::byte*\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a09f33d06b0b1010ac0409efd6d613fe1}{ByteBufferInputStream::byteBuffer}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00228\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00229\ \ \ \ \ PH\_ASSERT(m\_byteBuffer);}
\DoxyCodeLine{00230\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_byteBuffer.get();}
\DoxyCodeLine{00231\ \}}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a3a68e0f7bc352888ebe42c4ad0f96521}{ByteBufferInputStream::charBuffer}}()}
\DoxyCodeLine{00234\ \{}
\DoxyCodeLine{00235\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a09f33d06b0b1010ac0409efd6d613fe1}{byteBuffer}}());}
\DoxyCodeLine{00236\ \}}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00238\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a3a68e0f7bc352888ebe42c4ad0f96521}{ByteBufferInputStream::charBuffer}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00239\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00240\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a09f33d06b0b1010ac0409efd6d613fe1}{byteBuffer}}());}
\DoxyCodeLine{00241\ \}}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_aac5f174ee25c50910c8b4c2267ed05d3}{ByteBufferInputStream::ucharBuffer}}()}
\DoxyCodeLine{00244\ \{}
\DoxyCodeLine{00245\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a09f33d06b0b1010ac0409efd6d613fe1}{byteBuffer}}());}
\DoxyCodeLine{00246\ \}}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_aac5f174ee25c50910c8b4c2267ed05d3}{ByteBufferInputStream::ucharBuffer}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00249\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00250\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\mbox{\hyperlink{classph_1_1_byte_buffer_input_stream_a09f33d06b0b1010ac0409efd6d613fe1}{byteBuffer}}());}
\DoxyCodeLine{00251\ \}}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ \}\textcolor{comment}{//\ end\ namespace\ ph}}

\end{DoxyCode}
