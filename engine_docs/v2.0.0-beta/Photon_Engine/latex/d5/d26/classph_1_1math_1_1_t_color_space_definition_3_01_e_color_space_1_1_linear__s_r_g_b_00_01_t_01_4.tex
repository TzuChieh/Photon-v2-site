\doxysection{ph\+::math\+::TColor\+Space\+Definition\texorpdfstring{$<$}{<} EColor\+Space\+::Linear\+\_\+s\+RGB, T \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classph_1_1math_1_1_t_color_space_definition_3_01_e_color_space_1_1_linear__s_r_g_b_00_01_t_01_4}{}\label{classph_1_1math_1_1_t_color_space_definition_3_01_e_color_space_1_1_linear__s_r_g_b_00_01_t_01_4}\index{ph::math::TColorSpaceDefinition$<$ EColorSpace::Linear\_sRGB, T $>$@{ph::math::TColorSpaceDefinition$<$ EColorSpace::Linear\_sRGB, T $>$}}


Linear s\+RGB color space definitions.  


Inheritance diagram for ph\+::math\+::TColor\+Space\+Definition\texorpdfstring{$<$}{<} EColor\+Space\+::Linear\+\_\+s\+RGB, T \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.749591cm]{d5/d26/classph_1_1math_1_1_t_color_space_definition_3_01_e_color_space_1_1_linear__s_r_g_b_00_01_t_01_4}
\end{center}
\end{figure}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static TTristimulus\+Values$<$ T $>$ \mbox{\hyperlink{classph_1_1math_1_1_t_color_space_definition_3_01_e_color_space_1_1_linear__s_r_g_b_00_01_t_01_4_add536e3c48d2701dffaece4737011ddb}{to\+CIEXYZ}} (const TTristimulus\+Values$<$ T $>$ \&this\+Color)
\begin{DoxyCompactList}\small\item\em Converts linear s\+RGB color to CIE XYZ color. \end{DoxyCompactList}\item 
\Hypertarget{classph_1_1math_1_1_t_color_space_definition_3_01_e_color_space_1_1_linear__s_r_g_b_00_01_t_01_4_ae6074639bb9c453c0f74f87f0357619a}\label{classph_1_1math_1_1_t_color_space_definition_3_01_e_color_space_1_1_linear__s_r_g_b_00_01_t_01_4_ae6074639bb9c453c0f74f87f0357619a} 
static TTristimulus\+Values$<$ T $>$ {\bfseries from\+CIEXYZ} (const TTristimulus\+Values$<$ T $>$ \&CIEXYZColor)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions inherited from \mbox{\hyperlink{classph_1_1math_1_1_t_tristimulus_color_space_definition_helper}{ph\+::math\+::\+TTristimulus\+Color\+Space\+Definition\+Helper$<$ EColor\+Space\+::\+Linear\+\_\+s\+RGB, EReference\+White\+::\+D65 $>$}}}
\begin{DoxyCompactItemize}
\item 
static consteval \mbox{\hyperlink{namespaceph_1_1math_a957eab3ceed525ebce5c24b6b57eb975}{EColor\+Space}} {\bfseries get\+Color\+Space} () noexcept
\item 
static consteval bool {\bfseries is\+Tristimulus} () noexcept
\item 
static consteval \mbox{\hyperlink{namespaceph_1_1math_ac8bbf5c13da6b60663011e0be1acb6c4}{EReference\+White}} {\bfseries get\+Reference\+White} () noexcept
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename T$>$\newline
class ph\+::math\+::\+TColor\+Space\+Definition$<$ EColor\+Space\+::\+Linear\+\_\+s\+RGB, T $>$}
Linear s\+RGB color space definitions. 

Using D65 as reference white point (standard s\+RGB is based on D65).

Good reference on how to derive the conversion matrix mathematically\+: \mbox{[}1\mbox{]} \href{http://www.ryanjuckett.com/programming/rgb-color-space-conversion/?start=2}{\texttt{ http\+://www.\+ryanjuckett.\+com/programming/rgb-\/color-\/space-\/conversion/?start=2}}

A wide collection of color space related data, code, math... etc. \mbox{[}2\mbox{]} \href{http://www.brucelindbloom.com/index.html}{\texttt{ http\+://www.\+brucelindbloom.\+com/index.\+html}}

Other references\+: \mbox{[}3\mbox{]} \href{http://www.color.org/sRGB.xalter}{\texttt{ http\+://www.\+color.\+org/s\+RGB.\+xalter}} \mbox{[}4\mbox{]} \href{https://en.wikipedia.org/wiki/SRGB}{\texttt{ https\+://en.\+wikipedia.\+org/wiki/\+SRGB}} 

\doxysubsection{Member Function Documentation}
\Hypertarget{classph_1_1math_1_1_t_color_space_definition_3_01_e_color_space_1_1_linear__s_r_g_b_00_01_t_01_4_add536e3c48d2701dffaece4737011ddb}\label{classph_1_1math_1_1_t_color_space_definition_3_01_e_color_space_1_1_linear__s_r_g_b_00_01_t_01_4_add536e3c48d2701dffaece4737011ddb} 
\index{ph::math::TColorSpaceDefinition$<$ EColorSpace::Linear\_sRGB, T $>$@{ph::math::TColorSpaceDefinition$<$ EColorSpace::Linear\_sRGB, T $>$}!toCIEXYZ@{toCIEXYZ}}
\index{toCIEXYZ@{toCIEXYZ}!ph::math::TColorSpaceDefinition$<$ EColorSpace::Linear\_sRGB, T $>$@{ph::math::TColorSpaceDefinition$<$ EColorSpace::Linear\_sRGB, T $>$}}
\doxysubsubsection{\texorpdfstring{toCIEXYZ()}{toCIEXYZ()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
static TTristimulus\+Values$<$ T $>$ \mbox{\hyperlink{classph_1_1math_1_1_t_color_space_definition}{ph\+::math\+::\+TColor\+Space\+Definition}}$<$ \mbox{\hyperlink{namespaceph_1_1math_a957eab3ceed525ebce5c24b6b57eb975a09459a025b9bd3e49c14a141f26f1168}{EColor\+Space\+::\+Linear\+\_\+s\+RGB}}, T $>$\+::to\+CIEXYZ (\begin{DoxyParamCaption}\item[{const TTristimulus\+Values$<$ T $>$ \&}]{this\+Color }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Converts linear s\+RGB color to CIE XYZ color. 

Note that we did NOT use the matrices listed in Bruce\textquotesingle{}s site \mbox{[}2\mbox{]} (\href{http://www.brucelindbloom.com/index.html?ReferenceImages.html}{\texttt{ http\+://www.\+brucelindbloom.\+com/index.\+html?\+Reference\+Images.\+html}}). The reason is that it seems to have some numeric precision issues in the calculation of the conversion matrices, as they are different from the ones in Ryan\textquotesingle{}s site \mbox{[}1\mbox{]} and Wiki page \mbox{[}4\mbox{]}. Also note that many other sources have calculated matrices that are different between each other\textquotesingle{}s results.

An informative thread discussing this issue\+: \href{https://stackoverflow.com/questions/66360637/which-matrix-is-correct-to-map-xyz-to-linear-rgb-for-srgb}{\texttt{ https\+://stackoverflow.\+com/questions/66360637/which-\/matrix-\/is-\/correct-\/to-\/map-\/xyz-\/to-\/linear-\/rgb-\/for-\/srgb}}

So how do we transform s\+RGB colors? To my best understanding, Ryan\textquotesingle{}s calculation is correct, and we use the matrices listed in a W3C definition in CSS Color 4\+: \href{https://drafts.csswg.org/css-color-4/\#color-conversion-code}{\texttt{ https\+://drafts.\+csswg.\+org/css-\/color-\/4/\#color-\/conversion-\/code}}, which is the highest precision matrices (and consistent with Ryan\textquotesingle{}s result \mbox{[}1\mbox{]}) that I can find on the Internet. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Source/\+Math/\+Color/color\+\_\+spaces.\+ipp\end{DoxyCompactItemize}
