\doxysection{fixed\+\_\+map\+\_\+base.\+h}
\hypertarget{fixed__map__base_8h_source}{}\label{fixed__map__base_8h_source}\index{Source/Utility/fixed\_map\_base.h@{Source/Utility/fixed\_map\_base.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <utility>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <tuple>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceph}{ph}}}
\DoxyCodeLine{00008\ \{}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ KeyType,\ KeyType\ KEY\_VAL,\ \textcolor{keyword}{typename}\ ValueType>}
\DoxyCodeLine{00011\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classph_1_1_t_fixed_map_entry}{TFixedMapEntry}}\ final}
\DoxyCodeLine{00012\ \{}
\DoxyCodeLine{00013\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keyword}{using\ }Key\ \ \ =\ KeyType;}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keyword}{using\ }Value\ =\ ValueType;}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ Key\ KEY\ =\ KEY\_VAL;}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \ \ Value\&\ \ \ \ \ \ \ getValue()\ \ \ \ \ \ \ \{\ \textcolor{keywordflow}{return}\ m\_value;\ \}}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keyword}{const}\ Value\&\ getValue()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_value;\ \}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00023\ \ \ \ \ Value\ m\_value;}
\DoxyCodeLine{00024\ \};}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{comment}{//\ TODO:\ ensure\ all\ keys\ are\ the\ same\ type,\ and\ entries\ are\ all\ TFixedMapEntry}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}...\ Entries>}
\DoxyCodeLine{00029\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classph_1_1_t_fixed_map_base}{TFixedMapBase}}\ final}
\DoxyCodeLine{00030\ \{}
\DoxyCodeLine{00031\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{using\ }EntryArray\ =\ std::tuple<Entries...>;}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::size\_t\ ENTRY\_ARRAY\_SIZE\ =\ std::tuple\_size\_v<EntryArray>;}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keyword}{static\_assert}(ENTRY\_ARRAY\_SIZE\ >\ 0);}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keyword}{using\ }Key\ =\ \textcolor{keyword}{typename}\ std::tuple\_element\_t<0,\ EntryArray>::Key;}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t}\ ENTRY\_INDEX>}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keyword}{using\ }Entry\ =\ std::tuple\_element\_t<ENTRY\_INDEX,\ EntryArray>;}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{classph_1_1_t_fixed_map_base}{TFixedMapBase}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \mbox{\hyperlink{classph_1_1_t_fixed_map_base}{TFixedMapBase}}(\mbox{\hyperlink{classph_1_1_t_fixed_map_base}{TFixedMapBase}}\&\&\ other)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \mbox{\hyperlink{classph_1_1_t_fixed_map_base}{TFixedMapBase}}(Entries\&\&...\ entries)\ :}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ m\_entries(std::move(entries)...)}
\DoxyCodeLine{00048\ \ \ \ \ \{\}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keyword}{template}<Key\ KEY,\ std::\textcolor{keywordtype}{size\_t}\ D\_ENTRY\_INDEX\ =\ 0>}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ hasKey()}
\DoxyCodeLine{00052\ \ \ \ \ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}(D\_ENTRY\_INDEX\ ==\ ENTRY\_ARRAY\_SIZE)}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}(Entry<D\_ENTRY\_INDEX>::KEY\ ==\ KEY)}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ hasKey<KEY,\ D\_ENTRY\_INDEX\ +\ 1>();}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00066\ \ \ \ \ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t}\ ENTRY\_INDEX>}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ Key\ entryKey()}
\DoxyCodeLine{00070\ \ \ \ \ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(ENTRY\_INDEX\ <\ ENTRY\_ARRAY\_SIZE);}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Entry<ENTRY\_INDEX>::KEY;}
\DoxyCodeLine{00074\ \ \ \ \ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keyword}{template}<Key\ KEY,\ std::\textcolor{keywordtype}{size\_t}\ D\_ENTRY\_INDEX\ =\ 0>}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::size\_t\ entryIndex()}
\DoxyCodeLine{00078\ \ \ \ \ \{}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(hasKey<KEY>());}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}(Entry<D\_ENTRY\_INDEX>::KEY\ ==\ KEY)}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ D\_ENTRY\_INDEX;}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ entryIndex<KEY,\ D\_ENTRY\_INDEX\ +\ 1>();}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00089\ \ \ \ \ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t}\ ENTRY\_INDEX>}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keyword}{decltype}(\textcolor{keyword}{auto})\ getEntry()}
\DoxyCodeLine{00093\ \ \ \ \ \{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(ENTRY\_INDEX\ <\ ENTRY\_ARRAY\_SIZE);}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::get<ENTRY\_INDEX>(m\_entries);}
\DoxyCodeLine{00097\ \ \ \ \ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t}\ ENTRY\_INDEX>}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keyword}{decltype}(\textcolor{keyword}{auto})\ getEntry()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00101\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(ENTRY\_INDEX\ <\ ENTRY\_ARRAY\_SIZE);}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::get<ENTRY\_INDEX>(m\_entries);}
\DoxyCodeLine{00105\ \ \ \ \ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keyword}{template}<Key\ KEY>}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keyword}{decltype}(\textcolor{keyword}{auto})\ get()}
\DoxyCodeLine{00109\ \ \ \ \ \{}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ getEntry<entryIndex<KEY>()>().getValue();}
\DoxyCodeLine{00111\ \ \ \ \ \}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keyword}{template}<Key\ KEY>}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keyword}{decltype}(\textcolor{keyword}{auto})\ get()\ \textcolor{keyword}{const}}
\DoxyCodeLine{00115\ \ \ \ \ \{}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ getEntry<entryIndex<KEY>()>().getValue();}
\DoxyCodeLine{00117\ \ \ \ \ \}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \mbox{\hyperlink{classph_1_1_t_fixed_map_base}{TFixedMapBase}}\&\ operator\ =\ (\mbox{\hyperlink{classph_1_1_t_fixed_map_base}{TFixedMapBase}}\&\&\ rhs)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00122\ \ \ \ \ EntryArray\ m\_entries;}
\DoxyCodeLine{00123\ \};}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \}\textcolor{comment}{//\ end\ namespace\ ph}}

\end{DoxyCode}
