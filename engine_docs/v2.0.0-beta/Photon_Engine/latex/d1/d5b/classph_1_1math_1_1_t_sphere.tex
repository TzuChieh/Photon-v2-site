\doxysection{ph\+::math\+::TSphere\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classph_1_1math_1_1_t_sphere}{}\label{classph_1_1math_1_1_t_sphere}\index{ph::math::TSphere$<$ T $>$@{ph::math::TSphere$<$ T $>$}}


A sphere in 3-\/D space.  




{\ttfamily \#include $<$TSphere.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classph_1_1math_1_1_t_sphere_aaf56693e69cfd0c36c82bda33f16e256}\label{classph_1_1math_1_1_t_sphere_aaf56693e69cfd0c36c82bda33f16e256} 
{\bfseries TSphere} (T radius)
\item 
\Hypertarget{classph_1_1math_1_1_t_sphere_af7b74dfb3c157cc22610512479e85678}\label{classph_1_1math_1_1_t_sphere_af7b74dfb3c157cc22610512479e85678} 
bool {\bfseries is\+Intersecting} (const \mbox{\hyperlink{classph_1_1math_1_1_t_line_segment}{TLine\+Segment}}$<$ T $>$ \&segment, real \texorpdfstring{$\ast$}{*}out\+\_\+hitT) const
\item 
\Hypertarget{classph_1_1math_1_1_t_sphere_a1fce08069ea53b6d55d05d76260e9f7f}\label{classph_1_1math_1_1_t_sphere_a1fce08069ea53b6d55d05d76260e9f7f} 
bool {\bfseries is\+Inside} (const \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$ \&point) const
\item 
\Hypertarget{classph_1_1math_1_1_t_sphere_a40953921efc58de7d774bc4abf67e1a4}\label{classph_1_1math_1_1_t_sphere_a40953921efc58de7d774bc4abf67e1a4} 
T {\bfseries get\+Area} () const
\item 
\Hypertarget{classph_1_1math_1_1_t_sphere_a52d25d0ec3ad48297444d08fa99e10bd}\label{classph_1_1math_1_1_t_sphere_a52d25d0ec3ad48297444d08fa99e10bd} 
\mbox{\hyperlink{classph_1_1math_1_1_t_a_a_b_b3_d}{TAABB3D}}$<$ T $>$ {\bfseries get\+AABB} () const
\item 
bool \mbox{\hyperlink{classph_1_1math_1_1_t_sphere_aca90b735abbabdb683b0d7feb7638982}{may\+Overlap\+Volume}} (const \mbox{\hyperlink{classph_1_1math_1_1_t_a_a_b_b3_d}{TAABB3D}}$<$ T $>$ \&volume) const
\begin{DoxyCompactList}\small\item\em Conservatively checks whether this sphere overlaps a volume. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$ \mbox{\hyperlink{classph_1_1math_1_1_t_sphere_ac6900873c3c0c85a96003705a742c9b7}{sample\+To\+Surface\+Archimedes}} (const std\+::array$<$ T, 2 $>$ \&sample) const
\begin{DoxyCompactList}\small\item\em Map the 2D sample to a position on the surface of the sphere. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$ \mbox{\hyperlink{classph_1_1math_1_1_t_sphere_ad537a29c901fd042f11cdddbedf03127}{sample\+To\+Surface\+Archimedes}} (const std\+::array$<$ T, 2 $>$ \&sample, T \texorpdfstring{$\ast$}{*}out\+\_\+pdfA) const
\item 
\Hypertarget{classph_1_1math_1_1_t_sphere_a90c17725b7c3c8dc5b170ee8ab70cc73}\label{classph_1_1math_1_1_t_sphere_a90c17725b7c3c8dc5b170ee8ab70cc73} 
T {\bfseries uniform\+Surface\+Sample\+PdfA} () const
\item 
\Hypertarget{classph_1_1math_1_1_t_sphere_a2b0372bb3fa26dba56ceb59370dc6f19}\label{classph_1_1math_1_1_t_sphere_a2b0372bb3fa26dba56ceb59370dc6f19} 
\mbox{\hyperlink{classph_1_1math_1_1_t_vector2}{TVector2}}$<$ T $>$ {\bfseries surface\+To\+Lat\+Long01} (const \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$ \&surface) const
\item 
\Hypertarget{classph_1_1math_1_1_t_sphere_a8169234843c46e90276088676bb5c061}\label{classph_1_1math_1_1_t_sphere_a8169234843c46e90276088676bb5c061} 
\mbox{\hyperlink{classph_1_1math_1_1_t_vector2}{TVector2}}$<$ T $>$ {\bfseries lat\+Long01\+To\+Phi\+Theta} (const \mbox{\hyperlink{classph_1_1math_1_1_t_vector2}{TVector2}}$<$ T $>$ \&lat\+Long01) const
\item 
\Hypertarget{classph_1_1math_1_1_t_sphere_a23aa887f35059be5c35d3c226e5c49d8}\label{classph_1_1math_1_1_t_sphere_a23aa887f35059be5c35d3c226e5c49d8} 
\mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$ {\bfseries lat\+Long01\+To\+Surface} (const \mbox{\hyperlink{classph_1_1math_1_1_t_vector2}{TVector2}}$<$ T $>$ \&lat\+Long01) const
\item 
\Hypertarget{classph_1_1math_1_1_t_sphere_a11e120d1c4c848b60c6283cb92db5386}\label{classph_1_1math_1_1_t_sphere_a11e120d1c4c848b60c6283cb92db5386} 
\mbox{\hyperlink{classph_1_1math_1_1_t_vector2}{TVector2}}$<$ T $>$ {\bfseries surface\+To\+Phi\+Theta} (const \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$ \&surface) const
\begin{DoxyCompactList}\small\item\em Map Cartesian to spherical coordinates on the surface of the sphere. \end{DoxyCompactList}\item 
\Hypertarget{classph_1_1math_1_1_t_sphere_a6437eabb3effe3f5eb34a38e090f3fda}\label{classph_1_1math_1_1_t_sphere_a6437eabb3effe3f5eb34a38e090f3fda} 
\mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$ {\bfseries phi\+Theta\+To\+Surface} (const \mbox{\hyperlink{classph_1_1math_1_1_t_vector2}{TVector2}}$<$ T $>$ \&phi\+Theta) const
\begin{DoxyCompactList}\small\item\em Map spherical to Cartesian coordinates on the surface of the sphere. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Surface\+To\+Uv $>$ }\\std\+::pair$<$ \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$, \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$ $>$ \mbox{\hyperlink{classph_1_1math_1_1_t_sphere_ae5d55bf20849f35e8347915e0b89ff8f}{surface\+Derivatives\+Wrt\+Uv}} (const \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$ \&surface, Surface\+To\+Uv surface\+To\+Uv, T h\+In\+Radians=\mbox{\hyperlink{namespaceph_1_1math_a8d924d614efcdd92fcce816a3f8eebf3}{to\+\_\+radians}}$<$ T $>$(1)) const
\begin{DoxyCompactList}\small\item\em Calculate d\+PdU and d\+PdV with finite difference. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classph_1_1math_1_1_t_sphere_a0cb0289b08521cf74ec7832fe67de73e}\label{classph_1_1math_1_1_t_sphere_a0cb0289b08521cf74ec7832fe67de73e} 
static \mbox{\hyperlink{classph_1_1math_1_1_t_sphere}{TSphere}} {\bfseries make\+Unit} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename T$>$\newline
class ph\+::math\+::\+TSphere$<$ T $>$}
A sphere in 3-\/D space. 

The center of the sphere is at the origin. 

\doxysubsection{Member Function Documentation}
\Hypertarget{classph_1_1math_1_1_t_sphere_aca90b735abbabdb683b0d7feb7638982}\label{classph_1_1math_1_1_t_sphere_aca90b735abbabdb683b0d7feb7638982} 
\index{ph::math::TSphere$<$ T $>$@{ph::math::TSphere$<$ T $>$}!mayOverlapVolume@{mayOverlapVolume}}
\index{mayOverlapVolume@{mayOverlapVolume}!ph::math::TSphere$<$ T $>$@{ph::math::TSphere$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{mayOverlapVolume()}{mayOverlapVolume()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
bool \mbox{\hyperlink{classph_1_1math_1_1_t_sphere}{ph\+::math\+::\+TSphere}}$<$ T $>$\+::may\+Overlap\+Volume (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1math_1_1_t_a_a_b_b3_d}{TAABB3D}}$<$ T $>$ \&}]{volume }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Conservatively checks whether this sphere overlaps a volume. 

By conservative, it means {\bfseries{true can be returned even though the sphere does not overlap the volume}}; but if it actually does, {\bfseries{true must be returned}}. The test considers the sphere as {\bfseries{hollow}} and the volume is {\bfseries{solid}}. \Hypertarget{classph_1_1math_1_1_t_sphere_ac6900873c3c0c85a96003705a742c9b7}\label{classph_1_1math_1_1_t_sphere_ac6900873c3c0c85a96003705a742c9b7} 
\index{ph::math::TSphere$<$ T $>$@{ph::math::TSphere$<$ T $>$}!sampleToSurfaceArchimedes@{sampleToSurfaceArchimedes}}
\index{sampleToSurfaceArchimedes@{sampleToSurfaceArchimedes}!ph::math::TSphere$<$ T $>$@{ph::math::TSphere$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{sampleToSurfaceArchimedes()}{sampleToSurfaceArchimedes()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$ \mbox{\hyperlink{classph_1_1math_1_1_t_sphere}{ph\+::math\+::\+TSphere}}$<$ T $>$\+::sample\+To\+Surface\+Archimedes (\begin{DoxyParamCaption}\item[{const std\+::array$<$ T, 2 $>$ \&}]{sample }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Map the 2D sample to a position on the surface of the sphere. 

A common mapping method that is based on Archimedes\textquotesingle{} derivation that the horizontal slices of a sphere have equal area. The mapped positions are distributed uniformly if the sample is uniform. For a unit sphere, this method effectively generates normalized directions. \Hypertarget{classph_1_1math_1_1_t_sphere_ad537a29c901fd042f11cdddbedf03127}\label{classph_1_1math_1_1_t_sphere_ad537a29c901fd042f11cdddbedf03127} 
\index{ph::math::TSphere$<$ T $>$@{ph::math::TSphere$<$ T $>$}!sampleToSurfaceArchimedes@{sampleToSurfaceArchimedes}}
\index{sampleToSurfaceArchimedes@{sampleToSurfaceArchimedes}!ph::math::TSphere$<$ T $>$@{ph::math::TSphere$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{sampleToSurfaceArchimedes()}{sampleToSurfaceArchimedes()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$ \mbox{\hyperlink{classph_1_1math_1_1_t_sphere}{ph\+::math\+::\+TSphere}}$<$ T $>$\+::sample\+To\+Surface\+Archimedes (\begin{DoxyParamCaption}\item[{const std\+::array$<$ T, 2 $>$ \&}]{sample,  }\item[{T \texorpdfstring{$\ast$}{*}}]{out\+\_\+pdfA }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

An overload with PDF. Expected the input {\ttfamily sample} to be uniform. \Hypertarget{classph_1_1math_1_1_t_sphere_ae5d55bf20849f35e8347915e0b89ff8f}\label{classph_1_1math_1_1_t_sphere_ae5d55bf20849f35e8347915e0b89ff8f} 
\index{ph::math::TSphere$<$ T $>$@{ph::math::TSphere$<$ T $>$}!surfaceDerivativesWrtUv@{surfaceDerivativesWrtUv}}
\index{surfaceDerivativesWrtUv@{surfaceDerivativesWrtUv}!ph::math::TSphere$<$ T $>$@{ph::math::TSphere$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{surfaceDerivativesWrtUv()}{surfaceDerivativesWrtUv()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
template$<$typename Surface\+To\+Uv $>$ \\
std\+::pair$<$ \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$, \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$ $>$ \mbox{\hyperlink{classph_1_1math_1_1_t_sphere}{ph\+::math\+::\+TSphere}}$<$ T $>$\+::surface\+Derivatives\+Wrt\+Uv (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1math_1_1_t_vector3}{TVector3}}$<$ T $>$ \&}]{surface,  }\item[{Surface\+To\+Uv}]{surface\+To\+Uv,  }\item[{T}]{h\+In\+Radians = {\ttfamily \mbox{\hyperlink{namespaceph_1_1math_a8d924d614efcdd92fcce816a3f8eebf3}{to\+\_\+radians}}$<$T$>$(1)} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Calculate d\+PdU and d\+PdV with finite difference. 

This is a partial derivatives calculator for arbitrary UV maps; however, as it is only a finite difference approximation, artifacts can occur around the discontinuities of the underlying UV mapping.


\begin{DoxyParams}{Parameters}
{\em surface} & Coordinates of the point of interest on the surface. \\
\hline
{\em surface\+To\+Uv} & A mapper that maps surface coordinates to UV. \\
\hline
{\em h\+In\+Radians} & Half inverval in radians used in the finite difference. Should within (0, pi/4\mbox{]}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pair containing d\+PdU and d\+PdV. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Source/\+Math/\+Geometry/TSphere.\+h\item 
Source/\+Math/\+Geometry/TSphere.\+ipp\end{DoxyCompactItemize}
