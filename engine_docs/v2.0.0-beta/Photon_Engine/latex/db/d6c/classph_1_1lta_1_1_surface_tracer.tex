\doxysection{ph\+::lta\+::Surface\+Tracer Class Reference}
\hypertarget{classph_1_1lta_1_1_surface_tracer}{}\label{classph_1_1lta_1_1_surface_tracer}\index{ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}}


Common operations for surface tracing. This class also handles many subtle cases for surface tracing. You may take the implementations here as reference if a more fine-\/grained control is needed for a custom operation.  




{\ttfamily \#include $<$Surface\+Tracer.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classph_1_1lta_1_1_surface_tracer_aeec2d81b1d7033b4893962361cab0675}{Surface\+Tracer}} (const \mbox{\hyperlink{classph_1_1_scene}{Scene}} \texorpdfstring{$\ast$}{*}scene)
\item 
bool \mbox{\hyperlink{classph_1_1lta_1_1_surface_tracer_afb4d1b70a391fb9f65752936dc4edbe3}{trace\+Next\+Surface}} (const \mbox{\hyperlink{classph_1_1_ray}{Ray}} \&ray, const \mbox{\hyperlink{classph_1_1lta_1_1_sidedness_agreement}{Sidedness\+Agreement}} \&sidedness, \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \texorpdfstring{$\ast$}{*}out\+\_\+X) const
\begin{DoxyCompactList}\small\item\em Find the next surface. This variant does not refine the surface hit point. If refining is desired, see {\ttfamily \doxylink{classph_1_1lta_1_1_surface_tracer_a65191d2bc821e0d846227a5d4b65d164}{trace\+Next\+Surface\+From()}}. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classph_1_1lta_1_1_surface_tracer_a65191d2bc821e0d846227a5d4b65d164}{trace\+Next\+Surface\+From}} (const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&X, const \mbox{\hyperlink{classph_1_1_ray}{Ray}} \&ray, const \mbox{\hyperlink{classph_1_1lta_1_1_sidedness_agreement}{Sidedness\+Agreement}} \&sidedness, \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \texorpdfstring{$\ast$}{*}out\+\_\+X) const
\begin{DoxyCompactList}\small\item\em Find the next surface from a location. This variant also refines the surface hit point before starting the trace. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classph_1_1lta_1_1_surface_tracer_a72cb791283ca6b41d78666f7cd86680e}{bsdf\+Sample\+Next\+Surface}} (\mbox{\hyperlink{classph_1_1_bsdf_sample_query}{Bsdf\+Sample\+Query}} \&bsdf\+Sample, \mbox{\hyperlink{classph_1_1_sample_flow}{Sample\+Flow}} \&sample\+Flow, \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \texorpdfstring{$\ast$}{*}out\+\_\+X) const
\begin{DoxyCompactList}\small\item\em Uses BSDF sample to trace the next surface. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classph_1_1lta_1_1_surface_tracer_aebd3c9cd7305d1092f2b1b3ec01cdf86}{do\+Bsdf\+Sample}} (\mbox{\hyperlink{classph_1_1_bsdf_sample_query}{Bsdf\+Sample\+Query}} \&bsdf\+Sample, \mbox{\hyperlink{classph_1_1_sample_flow}{Sample\+Flow}} \&sample\+Flow) const
\item 
bool \mbox{\hyperlink{classph_1_1lta_1_1_surface_tracer_ac18874203896036415c65e27ac06128b}{do\+Bsdf\+Sample}} (\mbox{\hyperlink{classph_1_1_bsdf_sample_query}{Bsdf\+Sample\+Query}} \&bsdf\+Sample, \mbox{\hyperlink{classph_1_1_sample_flow}{Sample\+Flow}} \&sample\+Flow, \mbox{\hyperlink{classph_1_1_ray}{Ray}} \texorpdfstring{$\ast$}{*}out\+\_\+sampled\+Ray) const
\item 
bool \mbox{\hyperlink{classph_1_1lta_1_1_surface_tracer_a54b19a97532cc7e70364750054f4b460}{do\+Bsdf\+Evaluation}} (\mbox{\hyperlink{classph_1_1_bsdf_eval_query}{Bsdf\+Eval\+Query}} \&bsdf\+Eval) const
\item 
bool \mbox{\hyperlink{classph_1_1lta_1_1_surface_tracer_a3ecf82246725fa997fcaa3bf56d977bb}{do\+Bsdf\+Pdf\+Query}} (\mbox{\hyperlink{classph_1_1_bsdf_pdf_query}{Bsdf\+Pdf\+Query}} \&bsdf\+Pdf\+Query) const
\item 
bool \mbox{\hyperlink{classph_1_1lta_1_1_surface_tracer_aa2621be637ce1c0642b22f0c4b7ff6e4}{sample\+Zero\+Bounce\+Emission}} (const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&Xe, const \mbox{\hyperlink{classph_1_1lta_1_1_sidedness_agreement}{Sidedness\+Agreement}} \&sidedness, \mbox{\hyperlink{namespaceph_1_1math_a42275285cd99065c86ce22761ccaab91}{math\+::\+Spectrum}} \texorpdfstring{$\ast$}{*}out\+\_\+\+Le) const
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Common operations for surface tracing. This class also handles many subtle cases for surface tracing. You may take the implementations here as reference if a more fine-\/grained control is needed for a custom operation. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classph_1_1lta_1_1_surface_tracer_aeec2d81b1d7033b4893962361cab0675}\label{classph_1_1lta_1_1_surface_tracer_aeec2d81b1d7033b4893962361cab0675} 
\index{ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}!SurfaceTracer@{SurfaceTracer}}
\index{SurfaceTracer@{SurfaceTracer}!ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}}
\doxysubsubsection{\texorpdfstring{SurfaceTracer()}{SurfaceTracer()}}
{\footnotesize\ttfamily ph\+::lta\+::\+Surface\+Tracer\+::\+Surface\+Tracer (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1_scene}{Scene}} \texorpdfstring{$\ast$}{*}}]{scene }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



\doxysubsection{Member Function Documentation}
\Hypertarget{classph_1_1lta_1_1_surface_tracer_a72cb791283ca6b41d78666f7cd86680e}\label{classph_1_1lta_1_1_surface_tracer_a72cb791283ca6b41d78666f7cd86680e} 
\index{ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}!bsdfSampleNextSurface@{bsdfSampleNextSurface}}
\index{bsdfSampleNextSurface@{bsdfSampleNextSurface}!ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}}
\doxysubsubsection{\texorpdfstring{bsdfSampleNextSurface()}{bsdfSampleNextSurface()}}
{\footnotesize\ttfamily bool ph\+::lta\+::\+Surface\+Tracer\+::bsdf\+Sample\+Next\+Surface (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classph_1_1_bsdf_sample_query}{Bsdf\+Sample\+Query}} \&}]{bsdf\+Sample,  }\item[{\mbox{\hyperlink{classph_1_1_sample_flow}{Sample\+Flow}} \&}]{sample\+Flow,  }\item[{\mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \texorpdfstring{$\ast$}{*}}]{out\+\_\+X }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Uses BSDF sample to trace the next surface. 

\begin{DoxyReturn}{Returns}
Is the next surface found. Output parameters are not usable if {\ttfamily false} is returned. 
\end{DoxyReturn}
\Hypertarget{classph_1_1lta_1_1_surface_tracer_a54b19a97532cc7e70364750054f4b460}\label{classph_1_1lta_1_1_surface_tracer_a54b19a97532cc7e70364750054f4b460} 
\index{ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}!doBsdfEvaluation@{doBsdfEvaluation}}
\index{doBsdfEvaluation@{doBsdfEvaluation}!ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}}
\doxysubsubsection{\texorpdfstring{doBsdfEvaluation()}{doBsdfEvaluation()}}
{\footnotesize\ttfamily bool ph\+::lta\+::\+Surface\+Tracer\+::do\+Bsdf\+Evaluation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classph_1_1_bsdf_eval_query}{Bsdf\+Eval\+Query}} \&}]{bsdf\+Eval }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\begin{DoxyReturn}{Returns}
Whether the BSDF has potential to contribute. 
\end{DoxyReturn}
\Hypertarget{classph_1_1lta_1_1_surface_tracer_a3ecf82246725fa997fcaa3bf56d977bb}\label{classph_1_1lta_1_1_surface_tracer_a3ecf82246725fa997fcaa3bf56d977bb} 
\index{ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}!doBsdfPdfQuery@{doBsdfPdfQuery}}
\index{doBsdfPdfQuery@{doBsdfPdfQuery}!ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}}
\doxysubsubsection{\texorpdfstring{doBsdfPdfQuery()}{doBsdfPdfQuery()}}
{\footnotesize\ttfamily bool ph\+::lta\+::\+Surface\+Tracer\+::do\+Bsdf\+Pdf\+Query (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classph_1_1_bsdf_pdf_query}{Bsdf\+Pdf\+Query}} \&}]{bsdf\+Pdf\+Query }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\begin{DoxyReturn}{Returns}
Whether the PDF is non-\/zero and has a sane value. 
\end{DoxyReturn}
\Hypertarget{classph_1_1lta_1_1_surface_tracer_aebd3c9cd7305d1092f2b1b3ec01cdf86}\label{classph_1_1lta_1_1_surface_tracer_aebd3c9cd7305d1092f2b1b3ec01cdf86} 
\index{ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}!doBsdfSample@{doBsdfSample}}
\index{doBsdfSample@{doBsdfSample}!ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}}
\doxysubsubsection{\texorpdfstring{doBsdfSample()}{doBsdfSample()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool ph\+::lta\+::\+Surface\+Tracer\+::do\+Bsdf\+Sample (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classph_1_1_bsdf_sample_query}{Bsdf\+Sample\+Query}} \&}]{bsdf\+Sample,  }\item[{\mbox{\hyperlink{classph_1_1_sample_flow}{Sample\+Flow}} \&}]{sample\+Flow }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\begin{DoxyReturn}{Returns}
Whether the BSDF sample has potential to contribute. 
\end{DoxyReturn}
\Hypertarget{classph_1_1lta_1_1_surface_tracer_ac18874203896036415c65e27ac06128b}\label{classph_1_1lta_1_1_surface_tracer_ac18874203896036415c65e27ac06128b} 
\index{ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}!doBsdfSample@{doBsdfSample}}
\index{doBsdfSample@{doBsdfSample}!ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}}
\doxysubsubsection{\texorpdfstring{doBsdfSample()}{doBsdfSample()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool ph\+::lta\+::\+Surface\+Tracer\+::do\+Bsdf\+Sample (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classph_1_1_bsdf_sample_query}{Bsdf\+Sample\+Query}} \&}]{bsdf\+Sample,  }\item[{\mbox{\hyperlink{classph_1_1_sample_flow}{Sample\+Flow}} \&}]{sample\+Flow,  }\item[{\mbox{\hyperlink{classph_1_1_ray}{Ray}} \texorpdfstring{$\ast$}{*}}]{out\+\_\+sampled\+Ray }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

\begin{DoxyReturn}{Returns}
Whether the BSDF sample has potential to contribute. Output parameters are not usable if {\ttfamily false} is returned. 
\end{DoxyReturn}
\Hypertarget{classph_1_1lta_1_1_surface_tracer_aa2621be637ce1c0642b22f0c4b7ff6e4}\label{classph_1_1lta_1_1_surface_tracer_aa2621be637ce1c0642b22f0c4b7ff6e4} 
\index{ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}!sampleZeroBounceEmission@{sampleZeroBounceEmission}}
\index{sampleZeroBounceEmission@{sampleZeroBounceEmission}!ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}}
\doxysubsubsection{\texorpdfstring{sampleZeroBounceEmission()}{sampleZeroBounceEmission()}}
{\footnotesize\ttfamily bool ph\+::lta\+::\+Surface\+Tracer\+::sample\+Zero\+Bounce\+Emission (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&}]{Xe,  }\item[{const \mbox{\hyperlink{classph_1_1lta_1_1_sidedness_agreement}{Sidedness\+Agreement}} \&}]{sidedness,  }\item[{\mbox{\hyperlink{namespaceph_1_1math_a42275285cd99065c86ce22761ccaab91}{math\+::\+Spectrum}} \texorpdfstring{$\ast$}{*}}]{out\+\_\+\+Le }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyParams}{Parameters}
{\em out\+\_\+\+Le} & The sampled emitted energy of {\ttfamily Xe} in the opposite direction of incident ray. Does not contain any weighting. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether the sample has potential to contribute. Output parameters are not usable if {\ttfamily false} is returned. 
\end{DoxyReturn}
\Hypertarget{classph_1_1lta_1_1_surface_tracer_afb4d1b70a391fb9f65752936dc4edbe3}\label{classph_1_1lta_1_1_surface_tracer_afb4d1b70a391fb9f65752936dc4edbe3} 
\index{ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}!traceNextSurface@{traceNextSurface}}
\index{traceNextSurface@{traceNextSurface}!ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}}
\doxysubsubsection{\texorpdfstring{traceNextSurface()}{traceNextSurface()}}
{\footnotesize\ttfamily bool ph\+::lta\+::\+Surface\+Tracer\+::trace\+Next\+Surface (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1_ray}{Ray}} \&}]{ray,  }\item[{const \mbox{\hyperlink{classph_1_1lta_1_1_sidedness_agreement}{Sidedness\+Agreement}} \&}]{sidedness,  }\item[{\mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \texorpdfstring{$\ast$}{*}}]{out\+\_\+X }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Find the next surface. This variant does not refine the surface hit point. If refining is desired, see {\ttfamily \doxylink{classph_1_1lta_1_1_surface_tracer_a65191d2bc821e0d846227a5d4b65d164}{trace\+Next\+Surface\+From()}}. 


\begin{DoxyParams}{Parameters}
{\em ray} & The ray that is used for finding the next surface. \\
\hline
{\em sidedness} & Sidedness policy. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
out\+\_\+X The next surface. 

Is the next surface found. Output parameters are not usable if {\ttfamily false} is returned. 
\end{DoxyReturn}
\Hypertarget{classph_1_1lta_1_1_surface_tracer_a65191d2bc821e0d846227a5d4b65d164}\label{classph_1_1lta_1_1_surface_tracer_a65191d2bc821e0d846227a5d4b65d164} 
\index{ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}!traceNextSurfaceFrom@{traceNextSurfaceFrom}}
\index{traceNextSurfaceFrom@{traceNextSurfaceFrom}!ph::lta::SurfaceTracer@{ph::lta::SurfaceTracer}}
\doxysubsubsection{\texorpdfstring{traceNextSurfaceFrom()}{traceNextSurfaceFrom()}}
{\footnotesize\ttfamily bool ph\+::lta\+::\+Surface\+Tracer\+::trace\+Next\+Surface\+From (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \&}]{X,  }\item[{const \mbox{\hyperlink{classph_1_1_ray}{Ray}} \&}]{ray,  }\item[{const \mbox{\hyperlink{classph_1_1lta_1_1_sidedness_agreement}{Sidedness\+Agreement}} \&}]{sidedness,  }\item[{\mbox{\hyperlink{classph_1_1_surface_hit}{Surface\+Hit}} \texorpdfstring{$\ast$}{*}}]{out\+\_\+X }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Find the next surface from a location. This variant also refines the surface hit point before starting the trace. 


\begin{DoxyParams}{Parameters}
{\em X} & The location to start the find from. Can also use the object as {\ttfamily out\+\_\+X}. \\
\hline
{\em ray} & The ray that is used for finding the next surface. \\
\hline
{\em sidedness} & Sidedness policy. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
out\+\_\+X The next surface. 

Is the next surface found. Output parameters are not usable if {\ttfamily false} is returned. 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Source/\+Core/\+LTA/\mbox{\hyperlink{_surface_tracer_8h}{Surface\+Tracer.\+h}}\end{DoxyCompactItemize}
